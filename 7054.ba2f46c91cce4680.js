"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7054],{7054:(Lc,ve,R)=>{R.r(ve),R.d(ve,{HomePageModule:()=>vs});var q=R(9808),y=R(5056),Y=R(4182),Pe=R(4918),fe=R(655),Mt=R(2340),t=R(9863),At=R(7224),Ft=R(5529);let St=(()=>{class c{constructor(){this.loaded=!1,this.loadingFinished=new Ft.xQ}finishLoading(){this.loaded=!0,this.loadingFinished.next()}load(){const e="./assets/monaco-editor/min/vs";if("object"==typeof window.monaco)return void this.finishLoading();const i=()=>{window.require.config({paths:{vs:`${e}`}}),window.require(["vs/editor/editor.main"],()=>{this.finishLoading()})};if(window.require)i();else{const r=document.createElement("script");r.type="text/javascript",r.src=`${e}/loader.js`,r.addEventListener("load",i),document.body.appendChild(r)}}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var ie=R(591);class z{constructor(n){this.childs=[],this.name=n}setParent(n){this.parent=n}connectDevice(n){n.setParent(this),this.childs.push(n)}removeDevice(n){this.childs.filter(e=>e.name!=n)}hasDevice(n){return this.childs.find(e=>e.name===n)}}let te=(()=>{class c extends z{constructor(){super(c.name),this.bu$=new ie.X({}),this.from=0,this.to=255,this.reset()}reset(){this.ram=new Uint8Array(131071),this.refresh()}From(e){e>65535||e>=this.to||(this.from=e)}To(e){e>65535||e<=this.from||(this.to=e)}FromTo(e,i){i>65535||i<=e||(this.to=i,this.from=e)}getBus(){return this.bu$.asObservable()}refresh(){const e={};for(let i=this.from;i<=this.to;++i){const r=i.toString(16);e[r]||(e[r]=[]);for(let l=0;l<=15;++l)e[r].push(this.read(i+l).toString(16));i+=15}this.bu$.next(e)}clear(){this.ram.fill(0),this.refresh()}read(e){if(e>=0&&e<=65535)return 255&this.ram[e];throw new Error("Error: Address is out of  Bound")}write(e,i){if(!(e>=0&&e<=65535))throw new Error("Error: Address is out of  Bound");this.ram[e]=255&i}setParent(e){}connectDevice(e){}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class V{constructor(){this.error=new ie.X(null)}static getInstance(){return this.instance||(this.instance=new V),this.instance}}class A{constructor(n,e=[],i={}){this._type=n,this._children=e,this._data=i,this._line=null}static assignment(n,e){return new A("assignment",[n,e])}static command(n,e){return new A("command",e?e.children:[],{name:n})}static expressionList(n){return new A("expressionList",n)}static identifier(n){return new A("identifier",[],{value:n})}static immediate(n){const{value:e}=n.data;return new A("immediate",[],{value:e})}static instruction(n,e,i){return new A("instruction",i?[i]:[],{name:n,mode:e})}static label(n){return new A("label",[],{name:n.data.value})}static localLabel(n){return new A("localLabel",[],{name:n.data.value})}static number(n,e){const i=parseInt(e,n);return new A("number",[],{value:i})}static statementList(n){return new A("statementList",n)}static stringLiteral(n){return new A("stringLiteral",[],{value:n})}get children(){return this._children}get data(){return this._data}get line(){return this._line}set line(n){this._line=n}get type(){return this._type}isAssignment(){return"assignment"===this.type}isCommand(){return"command"===this.type}isExpressionList(){return"expressionList"===this.type}isIdentifier(){return"identifier"===this.type}isImmediate(){return"immediate"===this.type}isInstruction(){return"instruction"===this.type}isLabel(){return"label"===this.type}isLocalLabel(){return"localLabel"===this.type}isNumber(){return"number"===this.type}isStringLiteral(){return"stringLiteral"===this.type}}function H(c,n,e,i){throw this.message=c,this.expected=n,this.found=e,this.location=i,this.name="SyntaxError",Error(c)}(function It(c,n){function e(){this.constructor=c}e.prototype=n.prototype,c.prototype=new e})(H,Error),H.buildMessage=function(c,n){var e={literal:function(_){return'"'+r(_.text)+'"'},class:function(_){var S,b="";for(S=0;S<_.parts.length;S++)b+=_.parts[S]instanceof Array?l(_.parts[S][0])+"-"+l(_.parts[S][1]):l(_.parts[S]);return"["+(_.inverted?"^":"")+b+"]"},any:function(_){return"any character"},end:function(_){return"end of input"},other:function(_){return _.description}};function i(_){return _.charCodeAt(0).toString(16).toUpperCase()}function r(_){return _.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+i(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+i(b)})}function l(_){return _.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(b){return"\\x0"+i(b)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(b){return"\\x"+i(b)})}function u(_){return e[_.type](_)}return"Expected "+function C(_){var S,D,b=new Array(_.length);for(S=0;S<_.length;S++)b[S]=u(_[S]);if(b.sort(),b.length>0){for(S=1,D=1;S<b.length;S++)b[S-1]!==b[S]&&(b[D]=b[S],D++);b.length=D}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}(c)+" but "+function v(_){return _?'"'+r(_)+'"':"end of input"}(n)+" found."};const vt_parse=function Zt(c,n){n=void 0!==n?n:{};var he,e={},i={start:xt},r=xt,u=/^[ \t\r\n]/,C=E([" ","\t","\r","\n"],!1,!1),b=P("=",!1),B=P(".",!1),j=",",K=P(",",!1),ke=P("@",!1),Ye=P(":",!1),Bs=/^[Aa]/,ws=E(["A","a"],!1,!1),ze=/^[xX]/,Ge=E(["x","X"],!1,!1),Je=/^[yY]/,Ve=E(["y","Y"],!1,!1),Us=P("*",!1),ae=/^[+\-]/,ne=E(["+","-"],!1,!1),re=/^[0-9]/,le=E([["0","9"]],!1,!1),Me=P("(",!1),Fe=P(")",!1),Se=/^[a-zA-Z]/,Ie=E([["a","z"],["A","Z"]],!1,!1),Hs=/^[a-zA-Z_]/,Qs=E([["a","z"],["A","Z"],"_"],!1,!1),He=/^[a-zA-Z0-9_]/,Qe=E([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Ws=P("#",!1),sc=P("%",!1),je=/^[01]/,Ke=E(["0","1"],!1,!1),ac=P("$",!1),We=/^[0-9a-fA-F]/,et=E([["0","9"],["a","f"],["A","F"]],!1,!1),st=P('"',!1),ct=/^[^"]/,it=E(['"'],!0,!1),lc=P("\\a",!1),hc=P("\\b",!1),uc=P("\\e",!1),gc=P("\\f",!1),xc=P("\\n",!1),bc=P("\\r",!1),_c=P("\\t",!1),Ac=P("\\v",!1),Sc=P("\\\\",!1),Zc=P('\\"',!1),o=0,de=[{line:1,column:1}],L=0,Ze=[];if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');r=i[n.startRule]}function P(s,a){return{type:"literal",text:s,ignoreCase:a}}function E(s,a,h){return{type:"class",parts:s,inverted:a,ignoreCase:h}}function gt(s){var h,a=de[s];if(a)return a;for(h=s-1;!de[h];)h--;for(a={line:(a=de[h]).line,column:a.column};h<s;)10===c.charCodeAt(h)?(a.line++,a.column=1):a.column++,h++;return de[s]=a,a}function g(s){o<L||(o>L&&(L=o,Ze=[]),Ze.push(s))}function xt(){var s,h;return s=o,I()!==e?(h=function Xc(){var s,a,p;return(s=function Rc(){var s,a,p,F;return s=o,(a=J())!==e&&I()!==e?(61===c.charCodeAt(o)?(p="=",o++):(p=e,g(b)),p!==e&&I()!==e&&(F=$())!==e?(a=function(s,a){return A.assignment(s,a)}(a,F),s=a):(o=s,s=e)):(o=s,s=e),s}())===e&&(s=function Bc(){var s,a,h,x;return s=o,46===c.charCodeAt(o)?(a=".",o++):(a=e,g(B)),a!==e&&(h=J())!==e&&I()!==e&&(x=function wc(){var s,a,h,p,x,F,Z,T;if(s=o,(a=$())!==e){for(h=[],p=o,(x=I())!==e?(44===c.charCodeAt(o)?(F=j,o++):(F=e,g(K)),F!==e&&(Z=I())!==e&&(T=$())!==e?p=x=[x,F,Z,T]:(o=p,p=e)):(o=p,p=e);p!==e;)h.push(p),p=o,(x=I())!==e?(44===c.charCodeAt(o)?(F=j,o++):(F=e,g(K)),F!==e&&(Z=I())!==e&&(T=$())!==e?p=x=[x,F,Z,T]:(o=p,p=e)):(o=p,p=e);h!==e?(a=function(s,a){return A.expressionList([s].concat(a.map(h=>h[3])))}(a,h),s=a):(o=s,s=e)}else o=s,s=e;return s}())!==e?(a=function(s,a){return A.command(s.data.value,a)}(h,x),s=a):(o=s,s=e),s===e&&(s=o,46===c.charCodeAt(o)?(a=".",o++):(a=e,g(B)),a!==e&&(h=J())!==e?(a=function(s){return A.command(s.data.value)}(h),s=a):(o=s,s=e)),s}())===e&&(s=o,(a=yt())!==e&&I()!==e&&(p=bt())!==e?(a=function(s,a){return[s,a]}(a,p),s=a):(o=s,s=e),s===e&&(s=yt())===e&&(s=bt())),s}(),h!==e&&I()!==e?s=h:(o=s,s=e)):(o=s,s=e),s}function I(){var s,a;for(s=[],u.test(c.charAt(o))?(a=c.charAt(o),o++):(a=e,g(C));a!==e;)s.push(a),u.test(c.charAt(o))?(a=c.charAt(o),o++):(a=e,g(C));return s}function k(){var s,a;if(s=[],u.test(c.charAt(o))?(a=c.charAt(o),o++):(a=e,g(C)),a!==e)for(;a!==e;)s.push(a),u.test(c.charAt(o))?(a=c.charAt(o),o++):(a=e,g(C));else s=e;return s}function yt(){var s,a,h,p;return s=o,64===c.charCodeAt(o)?(a="@",o++):(a=e,g(ke)),a!==e&&(h=J())!==e?(58===c.charCodeAt(o)?(p=":",o++):(p=e,g(Ye)),p!==e?(a=function(s){return A.localLabel(s)}(h),s=a):(o=s,s=e)):(o=s,s=e),s===e&&(s=o,(a=J())!==e?(58===c.charCodeAt(o)?(h=":",o++):(h=e,g(Ye)),h!==e?(a=function(s){return A.label(s)}(a),s=a):(o=s,s=e)):(o=s,s=e)),s}function bt(){var s,a,p,x,F,Z,T,W,ee;if(s=o,(a=N())!==e&&k()!==e?(Bs.test(c.charAt(o))?(p=c.charAt(o),o++):(p=e,g(ws)),p!==e?(a=function(s){return A.instruction(s,"accumulator")}(a),s=a):(o=s,s=e)):(o=s,s=e),s===e&&(s=o,(a=N())!==e&&k()!==e&&(p=$())!==e&&(x=I())!==e?(44===c.charCodeAt(o)?(F=j,o++):(F=e,g(K)),F!==e&&(Z=I())!==e?(ze.test(c.charAt(o))?(T=c.charAt(o),o++):(T=e,g(Ge)),T!==e?(a=function(s,a){return A.instruction(s,"xIndex",a)}(a,p),s=a):(o=s,s=e)):(o=s,s=e)):(o=s,s=e),s===e&&(s=o,(a=N())!==e&&k()!==e&&(p=$())!==e&&(x=I())!==e?(44===c.charCodeAt(o)?(F=j,o++):(F=e,g(K)),F!==e&&(Z=I())!==e?(Je.test(c.charAt(o))?(T=c.charAt(o),o++):(T=e,g(Ve)),T!==e?(a=function(s,a){return A.instruction(s,"yIndex",a)}(a,p),s=a):(o=s,s=e)):(o=s,s=e)):(o=s,s=e),s===e&&(s=o,(a=N())!==e&&k()!==e?(64===c.charCodeAt(o)?(p="@",o++):(p=e,g(ke)),p!==e&&(x=J())!==e?(a=function(s,a){return A.instruction(s,"localLabel",a)}(a,x),s=a):(o=s,s=e)):(o=s,s=e),s===e)))){if(s=o,(a=N())!==e)if(k()!==e)if(42===c.charCodeAt(o)?(p="*",o++):(p=e,g(Us)),p!==e)if(ae.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(ne)),x!==e){if(F=[],re.test(c.charAt(o))?(Z=c.charAt(o),o++):(Z=e,g(le)),Z!==e)for(;Z!==e;)F.push(Z),re.test(c.charAt(o))?(Z=c.charAt(o),o++):(Z=e,g(le));else F=e;F!==e?(a=function(s,a,h){const p=A.number(10,[a].concat(h).join(""));return A.instruction(s,"relative",p)}(a,x,F),s=a):(o=s,s=e)}else o=s,s=e;else o=s,s=e;else o=s,s=e;else o=s,s=e;s===e&&(s=o,(a=N())!==e&&k()!==e&&(p=$())!==e?(a=function(s,a){return A.instruction(s,"expression",a)}(a,p),s=a):(o=s,s=e),s===e&&(s=o,(a=N())!==e&&k()!==e?(40===c.charCodeAt(o)?(p="(",o++):(p=e,g(Me)),p!==e&&(x=I())!==e&&(F=$())!==e&&(Z=I())!==e?(44===c.charCodeAt(o)?(T=j,o++):(T=e,g(K)),T!==e&&I()!==e?(ze.test(c.charAt(o))?(W=c.charAt(o),o++):(W=e,g(Ge)),W!==e&&I()!==e?(41===c.charCodeAt(o)?(ee=")",o++):(ee=e,g(Fe)),ee!==e?(a=function(s,a){return A.instruction(s,"indirectX",a)}(a,F),s=a):(o=s,s=e)):(o=s,s=e)):(o=s,s=e)):(o=s,s=e)):(o=s,s=e),s===e&&(s=o,(a=N())!==e&&k()!==e?(40===c.charCodeAt(o)?(p="(",o++):(p=e,g(Me)),p!==e&&(x=I())!==e&&(F=$())!==e&&(Z=I())!==e?(41===c.charCodeAt(o)?(T=")",o++):(T=e,g(Fe)),T!==e&&I()!==e?(44===c.charCodeAt(o)?(W=j,o++):(W=e,g(K)),W!==e&&I()!==e?(Je.test(c.charAt(o))?(ee=c.charAt(o),o++):(ee=e,g(Ve)),ee!==e?(a=function(s,a){return A.instruction(s,"indirectY",a)}(a,F),s=a):(o=s,s=e)):(o=s,s=e)):(o=s,s=e)):(o=s,s=e)):(o=s,s=e),s===e&&(s=o,(a=N())!==e&&k()!==e?(40===c.charCodeAt(o)?(p="(",o++):(p=e,g(Me)),p!==e&&(x=I())!==e&&(F=$())!==e&&(Z=I())!==e?(41===c.charCodeAt(o)?(T=")",o++):(T=e,g(Fe)),T!==e?(a=function(s,a){return A.instruction(s,"indirect",a)}(a,F),s=a):(o=s,s=e)):(o=s,s=e)):(o=s,s=e),s===e&&(s=o,(a=N())!==e&&(a=function(s){return A.instruction(s,"implicit")}(a)),s=a)))))}return s}function N(){var a,h,p,x;return o,a=o,Se.test(c.charAt(o))?(h=c.charAt(o),o++):(h=e,g(Ie)),h!==e?(Se.test(c.charAt(o))?(p=c.charAt(o),o++):(p=e,g(Ie)),p!==e?(Se.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(Ie)),x!==e?a=h=[h,p,x]:(o=a,a=e)):(o=a,a=e)):(o=a,a=e),a!==e&&(a=function(s){return s.join("").toLowerCase()}(a)),a}function $(){var s;return(s=J())===e&&(s=function Ec(){var s,a,h;return s=o,35===c.charCodeAt(o)?(a="#",o++):(a=e,g(Ws)),a!==e&&(h=Ct())!==e?(a=function(s){return A.immediate(s)}(h),s=a):(o=s,s=e),s}())===e&&(s=Ct())===e&&(s=function Oc(){var s,a,h,p;if(s=o,34===c.charCodeAt(o)?(a='"',o++):(a=e,g(st)),a!==e){if(h=[],(p=_t())===e&&(ct.test(c.charAt(o))?(p=c.charAt(o),o++):(p=e,g(it))),p!==e)for(;p!==e;)h.push(p),(p=_t())===e&&(ct.test(c.charAt(o))?(p=c.charAt(o),o++):(p=e,g(it)));else h=e;h!==e?(34===c.charCodeAt(o)?(p='"',o++):(p=e,g(st)),p!==e?(a=function(s){return A.stringLiteral(s.join(""))}(h),s=a):(o=s,s=e)):(o=s,s=e)}else o=s,s=e;return s}()),s}function J(){var a,h,p,x;if(o,a=o,Hs.test(c.charAt(o))?(h=c.charAt(o),o++):(h=e,g(Qs)),h!==e){for(p=[],He.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(Qe));x!==e;)p.push(x),He.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(Qe));p!==e?a=h=[h,p]:(o=a,a=e)}else o=a,a=e;return a!==e&&(a=function(s){const h=(s.length>1?[s[0]].concat(s[1]):s).join("");return A.identifier(h)}(a)),a}function Ct(){var s,a,h,p,x;if(s=o,37===c.charCodeAt(o)?(a="%",o++):(a=e,g(sc)),a!==e)if(ae.test(c.charAt(o))?(h=c.charAt(o),o++):(h=e,g(ne)),h===e&&(h=null),h!==e){if(p=[],je.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(Ke)),x!==e)for(;x!==e;)p.push(x),je.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(Ke));else p=e;p!==e?(a=function(s,a){const h=[s||"+"].concat(a).join("");return A.number(2,h)}(h,p),s=a):(o=s,s=e)}else o=s,s=e;else o=s,s=e;if(s===e){if(s=o,ae.test(c.charAt(o))?(a=c.charAt(o),o++):(a=e,g(ne)),a===e&&(a=null),a!==e){if(h=[],re.test(c.charAt(o))?(p=c.charAt(o),o++):(p=e,g(le)),p!==e)for(;p!==e;)h.push(p),re.test(c.charAt(o))?(p=c.charAt(o),o++):(p=e,g(le));else h=e;h!==e?(a=function(s,a){const h=[s||"+"].concat(a).join("");return A.number(10,h)}(a,h),s=a):(o=s,s=e)}else o=s,s=e;if(s===e)if(s=o,36===c.charCodeAt(o)?(a="$",o++):(a=e,g(ac)),a!==e)if(ae.test(c.charAt(o))?(h=c.charAt(o),o++):(h=e,g(ne)),h===e&&(h=null),h!==e){if(p=[],We.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(et)),x!==e)for(;x!==e;)p.push(x),We.test(c.charAt(o))?(x=c.charAt(o),o++):(x=e,g(et));else p=e;p!==e?(a=function(s,a){const h=[s||"+"].concat(a).join("");return A.number(16,h)}(h,p),s=a):(o=s,s=e)}else o=s,s=e;else o=s,s=e}return s}function _t(){var s,a;return s=o,"\\a"===c.substr(o,2)?(a="\\a",o+=2):(a=e,g(lc)),a!==e&&(a="a"),(s=a)===e&&(s=o,"\\b"===c.substr(o,2)?(a="\\b",o+=2):(a=e,g(hc)),a!==e&&(a="\b"),(s=a)===e&&(s=o,"\\e"===c.substr(o,2)?(a="\\e",o+=2):(a=e,g(uc)),a!==e&&(a="e"),(s=a)===e&&(s=o,"\\f"===c.substr(o,2)?(a="\\f",o+=2):(a=e,g(gc)),a!==e&&(a="\f"),(s=a)===e&&(s=o,"\\n"===c.substr(o,2)?(a="\\n",o+=2):(a=e,g(xc)),a!==e&&(a="\n"),(s=a)===e&&(s=o,"\\r"===c.substr(o,2)?(a="\\r",o+=2):(a=e,g(bc)),a!==e&&(a="\r"),(s=a)===e&&(s=o,"\\t"===c.substr(o,2)?(a="\\t",o+=2):(a=e,g(_c)),a!==e&&(a="\t"),(s=a)===e&&(s=o,"\\v"===c.substr(o,2)?(a="\\v",o+=2):(a=e,g(Ac)),a!==e&&(a="\v"),(s=a)===e&&(s=o,"\\\\"===c.substr(o,2)?(a="\\\\",o+=2):(a=e,g(Sc)),a!==e&&(a="\\"),(s=a)===e&&(s=o,'\\"'===c.substr(o,2)?(a='\\"',o+=2):(a=e,g(Zc)),a!==e&&(a='"'),s=a))))))))),s}if((he=r())!==e&&o===c.length)return he;throw he!==e&&o<c.length&&g({type:"end"}),function mt(s,a,h){return new H(H.buildMessage(s,a),s,a,h)}(Ze,L<c.length?c.charAt(L):null,function ce(s,a){var h=gt(s),p=gt(a);return{start:{offset:s,line:h.line,column:h.column},end:{offset:a,line:p.line,column:p.column}}}(L,L<c.length?L+1:L))};class Pt extends Error{constructor(n,{lineNumber:e,assembly:i}){const r=`Parse Error, line ${e} near "${i}": ${n}`;V.getInstance().error.next(r),super(r)}}class Tt{constructor(n){this._data=n}get original(){return this._data.original}get lineNumber(){return this._data.lineNumber}get assembly(){return this._data.assembly}}function ge(c,n){n.line=c,n.children.forEach(e=>ge(c,e))}function Te(c){const n=[],i=c.split("\n").map((r,l)=>new Tt({original:r+"\n",lineNumber:l+1,assembly:r.replace(/^\s+/,"").replace(/;.*/,"").replace(/\s+$/,"")})).filter(r=>r.assembly.length>0);for(const r of i)try{const l=vt_parse(r.assembly);Array.isArray(l)?l.forEach(u=>{u.line=r,ge(r,u),n.push(u)}):(ge(r,l),n.push(l))}catch(l){throw new Pt(l,r)}return A.statementList(n)}const Dt=JSON.parse('{"adc":{"immediate":{"opcode":105,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":101,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":117,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":109,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":125,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"absolute_y":{"opcode":121,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"indirect_x":{"opcode":97,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":113,"bytes":2,"cycles":5,"pageCycles":1,"branchCycles":0}},"and":{"immediate":{"opcode":41,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":37,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":53,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":45,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":61,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"absolute_y":{"opcode":57,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"indirect_x":{"opcode":33,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":49,"bytes":2,"cycles":5,"pageCycles":1,"branchCycles":0}},"asl":{"accumulator":{"opcode":10,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"implied":{"opcode":10,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":6,"bytes":2,"cycles":5,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":22,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":14,"bytes":3,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":30,"bytes":3,"cycles":7,"pageCycles":0,"branchCycles":0}},"bcc":{"relative":{"opcode":144,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"bcs":{"relative":{"opcode":176,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"beq":{"relative":{"opcode":240,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"bit":{"zero_page":{"opcode":36,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":44,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0}},"bmi":{"relative":{"opcode":48,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"bne":{"relative":{"opcode":208,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"bpl":{"relative":{"opcode":16,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"brk":{"implied":{"opcode":0,"bytes":1,"cycles":7,"pageCycles":0,"branchCycles":0}},"bvc":{"relative":{"opcode":80,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"bvs":{"relative":{"opcode":112,"bytes":2,"cycles":2,"pageCycles":2,"branchCycles":1}},"clc":{"implied":{"opcode":24,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"cld":{"implied":{"opcode":216,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"cli":{"implied":{"opcode":88,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"clv":{"implied":{"opcode":184,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"cmp":{"immediate":{"opcode":201,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":197,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":213,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":205,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":221,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"absolute_y":{"opcode":217,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"indirect_x":{"opcode":193,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":209,"bytes":2,"cycles":5,"pageCycles":1,"branchCycles":0}},"cpx":{"immediate":{"opcode":224,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":228,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":236,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0}},"cpy":{"immediate":{"opcode":192,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":196,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":204,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0}},"dec":{"zero_page":{"opcode":198,"bytes":2,"cycles":5,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":214,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":206,"bytes":3,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":222,"bytes":3,"cycles":7,"pageCycles":0,"branchCycles":0}},"dex":{"implied":{"opcode":202,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"dey":{"implied":{"opcode":136,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"eor":{"immediate":{"opcode":73,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":69,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":85,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":77,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":93,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"absolute_y":{"opcode":89,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"indirect_x":{"opcode":65,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":81,"bytes":2,"cycles":5,"pageCycles":1,"branchCycles":0}},"inc":{"zero_page":{"opcode":230,"bytes":2,"cycles":5,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":246,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":238,"bytes":3,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":254,"bytes":3,"cycles":7,"pageCycles":0,"branchCycles":0}},"inx":{"implied":{"opcode":232,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"iny":{"implied":{"opcode":200,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"jmp":{"absolute":{"opcode":76,"bytes":3,"cycles":3,"pageCycles":0,"branchCycles":0},"indirect":{"opcode":108,"bytes":3,"cycles":5,"pageCycles":0,"branchCycles":0}},"jsr":{"absolute":{"opcode":32,"bytes":3,"cycles":6,"pageCycles":0,"branchCycles":0}},"lda":{"immediate":{"opcode":169,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":165,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":181,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":173,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":189,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"absolute_y":{"opcode":185,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"indirect_x":{"opcode":161,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":177,"bytes":2,"cycles":5,"pageCycles":1,"branchCycles":0}},"ldx":{"immediate":{"opcode":162,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":166,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_y":{"opcode":182,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":174,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_y":{"opcode":190,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0}},"ldy":{"immediate":{"opcode":160,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":164,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":180,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":172,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":188,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0}},"lsr":{"accumulator":{"opcode":74,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"implied":{"opcode":74,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":70,"bytes":2,"cycles":5,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":86,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":78,"bytes":3,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":94,"bytes":3,"cycles":7,"pageCycles":0,"branchCycles":0}},"nop":{"implied":{"opcode":234,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"ora":{"immediate":{"opcode":9,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":5,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":21,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":13,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":29,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"absolute_y":{"opcode":25,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"indirect_x":{"opcode":1,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":17,"bytes":2,"cycles":5,"pageCycles":1,"branchCycles":0}},"pha":{"implied":{"opcode":72,"bytes":1,"cycles":3,"pageCycles":0,"branchCycles":0}},"php":{"implied":{"opcode":8,"bytes":1,"cycles":3,"pageCycles":0,"branchCycles":0}},"pla":{"implied":{"opcode":104,"bytes":1,"cycles":4,"pageCycles":0,"branchCycles":0}},"plp":{"impiled":{"opcode":40,"bytes":1,"cycles":4,"pageCycles":0,"branchCycles":0}},"rol":{"accumulator":{"opcode":42,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"implied":{"opcode":42,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":38,"bytes":2,"cycles":5,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":54,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":46,"bytes":3,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":62,"bytes":3,"cycles":7,"pageCycles":0,"branchCycles":0}},"ror":{"accumulator":{"opcode":106,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"implied":{"opcode":106,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":102,"bytes":2,"cycles":5,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":118,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":110,"bytes":3,"cycles":6,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":126,"bytes":3,"cycles":7,"pageCycles":0,"branchCycles":0}},"rti":{"implied":{"opcode":64,"bytes":1,"cycles":6,"pageCycles":0,"branchCycles":0}},"rts":{"implied":{"opcode":96,"bytes":1,"cycles":6,"pageCycles":0,"branchCycles":0}},"sbc":{"immediate":{"opcode":233,"bytes":2,"cycles":2,"pageCycles":0,"branchCycles":0},"zero_page":{"opcode":229,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":245,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":237,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":253,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"absolute_y":{"opcode":249,"bytes":3,"cycles":4,"pageCycles":1,"branchCycles":0},"indirect_x":{"opcode":225,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":241,"bytes":2,"cycles":5,"pageCycles":1,"branchCycles":0}},"sec":{"implied":{"opcode":56,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"sed":{"implied":{"opcode":248,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"sei":{"implied":{"opcode":120,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"sta":{"zero_page":{"opcode":133,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":149,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":141,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute_x":{"opcode":157,"bytes":3,"cycles":5,"pageCycles":0,"branchCycles":0},"absolute_y":{"opcode":153,"bytes":3,"cycles":5,"pageCycles":0,"branchCycles":0},"indirect_x":{"opcode":129,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0},"indirect_y":{"opcode":145,"bytes":2,"cycles":6,"pageCycles":0,"branchCycles":0}},"stx":{"zero_page":{"opcode":134,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_y":{"opcode":150,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":142,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0}},"sty":{"zero_page":{"opcode":132,"bytes":2,"cycles":3,"pageCycles":0,"branchCycles":0},"zero_page_x":{"opcode":148,"bytes":2,"cycles":4,"pageCycles":0,"branchCycles":0},"absolute":{"opcode":140,"bytes":3,"cycles":4,"pageCycles":0,"branchCycles":0}},"tax":{"implied":{"opcode":170,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"tay":{"implied":{"opcode":168,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"tsx":{"implied":{"opcode":186,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"txa":{"implied":{"opcode":138,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"txs":{"implied":{"opcode":154,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}},"tya":{"implied":{"opcode":152,"bytes":1,"cycles":2,"pageCycles":0,"branchCycles":0}}}'),De=Object.freeze(R.t(Dt,2)),Rt=Object.freeze(Object.keys(De)),Bt=Object.freeze(new Set(Rt));class wt extends Error{constructor(n){super(`Invlaid instruction: ${n}`)}}class Et extends Error{constructor(n,e){super(`Invalid addressing mode for ${n}: ${e}`)}}class me{constructor(n,e,i){this._addressingMode=e,this._definition=i,this._name=n}static get(n,e){if(!function Ot(c){return Bt.has(c.toLowerCase())}(n))throw new wt(n);const i=De[n];if(!i[e])throw new Et(n,e);return new me(n,e,i[e])}get addressingMode(){return this._addressingMode}get branchCycles(){return this._definition.branchCycles}get cycles(){return this._definition.cycles}get length(){return this._definition.bytes}get name(){return this._name}get opcode(){return this._definition.opcode}get pageCycles(){return this._definition.pageCycles}}class w extends Error{constructor(n,{lineNumber:e,assembly:i}){let r=`Assembly Error, line ${e} near "${i}": ${n}`;V.getInstance().error.next(r),super(r)}}function Xe(c){return Array.from(c).map(n=>n.toString(16)).map(n=>n.length<2?`0${n}`:n).join("").toUpperCase()}class G{constructor(n){const{line:e,bytes:i}=n;this._line=e,this.address=-1,this._bytes=new Uint8Array(i)}get line(){return this._line}get address(){return this._address}set address(n){this._address=n}get bytes(){return this._bytes}setBytes(n){this._bytes=n}get hex(){return Xe(this.bytes)}get length(){return this.bytes.length}}class xe{constructor(n){const{line:e,name:i,params:r}=n;this._line=e,this._name=i,this._params=r}get line(){return this._line}get name(){return this._name}get params(){return this._params}}function Re(c){const{line:n,params:e}=c;if(0===e.length)return null;const i=[];return e.forEach((r,l)=>{if(r.isNumber()){let u=r.data.value;for(;u>255;)i.push(255&u),u>>>=8;i.push(u)}else{if(!r.isStringLiteral())throw new w(`.byte - invalid non-numeric/string parameter at index '${l}'`,n);r.data.value.split("").forEach((u,C)=>{const v=u.charCodeAt(0);if(v>255)throw new w(`.byte - encountered non-bytesized string literal character '${u}' at string index ${C}`,n);i.push(v)})}}),new G({bytes:i,line:n})}const Ut={byt:Re,byte:Re,word:function $t(c){const{line:n,params:e}=c;if(0===e.length)return null;const i=[];return e.forEach((r,l)=>{if(!r.isNumber())throw new w(`.word - invalid non-numeric parameter at index '${l}'`,n);{let u=r.data.value;for(;u>255;)i.push(255&u),u>>>=8;i.push(u)}}),new G({bytes:i,line:n})},addr:function Lt(c){const{line:n,params:e}=c;return 0===e.length?null:new G({bytes:[0,0],line:n})},org:function Nt(c){const{params:n}=c;if(1!==n.length||!n[0].isNumber())throw new w(".org expects a single numeric command",c.line);return n[0].data.value}};function Be(c){const{line:n,name:e}=c,i=Ut[e];if(!i)throw new w(`Invalid command "${e}.`,n);return i(c)}class Q{constructor({info:n,localLabel:e,value:i,line:r}){this._info=n,this._line=r,this.address=-1,this._bytes=new Uint8Array,this.value=i,this.localLabel=e}get address(){return this._address}set address(n){this._address=n}get addressingMode(){return this.info.addressingMode}get bytes(){return this._bytes}set bytes(n){this._bytes=n}get hex(){return Xe(this.bytes)}get info(){return this._info}get length(){return this.info.length}get line(){return this._line}get name(){return this.info.name}get opcode(){return this.info.opcode}get source(){return this.line.assembly}get value(){return this._value}set value(n){this._value=n}}class se{constructor(n){const{name:e,local:i}=n;this.address=-1,this._local=i,this._name=e}get address(){return this._address}set address(n){this._address=n}get local(){return this._local}get name(){return this._name}}class we{constructor(){this.constants=new Map}}class kt{static statementList(n,e){return n.children.map(i=>O(i,e)).filter(i=>!!i)}static assignment(n,e){const[i,r]=n.children,l=i.data.value,u=O(r,e);if(u.isIdentifier())throw new w(`'${u.data.value}' is not defined.`,n.line);e.constants.set(l,u)}static command(n,e){const{line:i}=n,{name:r}=n.data,l=n.children.map(u=>O(u,e));return new xe({line:i,name:r,params:l})}static label(n,e){const{name:i}=n.data;return new se({name:i,local:!1})}static localLabel(n,e){const{name:i}=n.data;return new se({name:i,local:!0})}static instruction(n,e){const{name:i,mode:r}=n.data;let l,u="",C=!1;switch(r){case"accumulator":u="accumulator";break;case"expression":l=O(n.children[0],e),l.isNumber()?u=l.data.value<=255?"zero_page":"absolute":l.isImmediate()?u="immediate":l.isIdentifier()&&(u="absolute");break;case"implicit":u="implied";break;case"indirect":u="indirect",l=O(n.children[0],e);break;case"indirectX":u="indirect_x",l=O(n.children[0],e);break;case"indirectY":u="indirect_y",l=O(n.children[0],e);break;case"localLabel":u="jmp"===i?"absolute":"relative",l=n.children[0],C=!0;break;case"relative":u="relative",l=O(n.children[0],e);break;case"xIndex":if(l=O(n.children[0],e),l.isNumber())u=l.data.value<=255?"zero_page_x":"absolute_x";else{if(l.isImmediate())throw new w("Expected an address for x-indexed addressing mode.",n.line);l.isIdentifier()&&(u="absolute_x")}break;case"yIndex":if(l=O(n.children[0],e),l.isNumber())u=l.data.value<=255?"zero_page_y":"absolute_y";else{if(l.isImmediate())throw new w("Expected an address for y-indexed addressing mode.",n.line);l.isIdentifier()&&(u="absolute_y")}}try{const v=me.get(i,u),{line:_}=n;return new Q({info:v,localLabel:C,line:_,value:l})}catch(v){throw new w(v.message,n.line)}}static identifier(n,e){const{value:i}=n.data;return e.constants.has(i)?e.constants.get(i):n}static immediate(n,e){if(n.data.value>255)throw new w("Immediate values must be between 0 and 255.",n.line);return n}static number(n,e){return n}static stringLiteral(n,e){return n}}function O(c,n){n||(n=new we);const e=kt[c.type];if(!e)throw new w(`Unknown parse node type "${c.type}"`,c.line);return e(c,n)}function Ee(c){let e=O(c,new we);e=function qt(c){return c.map(n=>n instanceof xe&&"org"!==n.name?Be(n):n).filter(n=>!!n)}(e),function Yt(c){let n=0;for(const e of c)if(e instanceof xe){const{name:i}=e;if("org"!==i)throw new w(`Encountered invalid command "${i}" during address assignment`,e.line);n=Be(e)}else e instanceof se?e.address=n:(e instanceof Q||e instanceof G)&&(e.address=n,n+=e.length)}(e);const i={local:new Map,global:new Map};return e.filter(r=>r instanceof se).forEach(r=>{(r.local?i.local:i.global).set(r.name,r.address)}),e.filter(r=>r instanceof Q).forEach(r=>{(function zt({local:c,global:n},e){const{addressingMode:i,localLabel:r,value:l}=e;if(!l||!l.isIdentifier())return;const u=l.data.value,C=r?c.get(u):n.get(u);"number"==typeof C&&(("absolute"===i||"absolute_x"===i||"absolute_y"===i)&&(e.value=new A("number",[],{value:C}),e.value.line=l.line),"relative"===i)&&(e.value=new A("number",[],{value:C-e.address}),e.value.line=l.line)})(i,r),function Gt(c){const{addressingMode:n,opcode:e,value:i}=c;if("implied"===n||"accumulator"===n)return void(c.bytes=[e]);if(!i)throw new w("Internal error: expected instruction to have value",c.line);if(i.isIdentifier())return;const r=i.data.value;switch(n){case"zero_page":case"immediate":case"zero_page_x":case"zero_page_y":case"indirect_x":case"indirect_x":case"indirect_y":case"indirect_y":c.bytes=new Uint8Array([e,r]);break;case"relative":c.bytes=new Uint8Array([e,r-c.length]);break;case"indirect":case"absolute":case"absolute_x":case"absolute_y":c.bytes=new Uint8Array([e,255&r,(65280&r)>>8])}}(r)}),e.map(r=>{if(r instanceof G){const l=r.line._data.assembly.split(" ");if(".addr"===l[0]){const u=i.global.get(l[1]);r.setBytes([255&u,u>>>8])}}}),e.filter(r=>r instanceof G||r instanceof Q||r instanceof se)}class Oe{static toHexString(n,e=!1){const l=Ee(Te(n)).filter(C=>C instanceof Q||C instanceof G),u=[];return l.forEach(C=>{if(!C.bytes||0===C.bytes.length){const{lineNumber:_}=C.line,{source:b}=C,S=`Unable to generate hex for line ${_} "${b}".`;throw V.getInstance().error.next(S),new Error(S)}let v="";for(let _=0;_<=C.hex.length;++_)_%2==0&&(v+=C.hex.slice(_,_+2)+" ");u.push(e?v:`${C._address.toString(16)}: ${v}`)}),u.join(e?" ":"\n")}static inspect(n){Ee(Te(n)).forEach(i=>{const r=function Jt(c){const n=c.toString(16);return`${c%2==1?"0":""}${n}`.toUpperCase()}(i.address);i instanceof Q?console.log(r,i.hex,"\t",i.source):console.log(r,(i.local?"@":"")+i.name+":")})}}let Vt=(()=>{class c{constructor(e,i){this.alertCtrl=e,this.toastCtrl=i,V.getInstance().error.subscribe(r=>this.showError(r))}assembe(e){return Oe.toHexString(e)}inspect(e){Oe.inspect(e)}showError(e){return(0,fe.mG)(this,void 0,void 0,function*(){!e||(yield this.showToast(e))})}showToast(e){return(0,fe.mG)(this,void 0,void 0,function*(){yield(yield this.toastCtrl.create({duration:6e3,message:e,position:"bottom",mode:"md",buttons:[{icon:"close",role:"cancel"}]})).present()})}}return c.\u0275fac=function(e){return new(e||c)(t.LFG(y.Br),t.LFG(y.yF))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Ht=["editorContainer"];let Qt=(()=>{class c{constructor(e,i,r,l){this.toastCtrl=e,this.monacoEditorService=i,this.buffer=r,this.assembler=l,this.source=';**************************************************************\n  ;*                                                            *\n  ;*      Welcome To 6502 8-Bits Computer Emulator:             *\n  ;*                                                            *\n  ;**************************************************************\n  \n  ; System Vector Locations\n  NMI     = $FFFA ; Non Maskable Interrupt Vector Address\n  RESB    = $FFFC ; Restart Vector Address\n  IRQ     = $FFFE ; Interrupt Request Vector Address\n  \n  PORTB   = $6000 ; Via Port B address.\n  PORTA   = $6001 ; Via Port A address.\n  DDRB    = $6002 ; Via Port B Mode 0 is input 1 is Output.\n  DDRA    = $6003 ; Via Port A Mode 0 is input 1 is Output.\n  \n  IFR     = $600d ; Via Interrupt Flag Register.\n  IER     = $600e ; Via Interrupt Enable Register.\n  \n  PROG    = $8000 ; Program Rom Origin.\n  \n  E        = #%10000000\n  RS       = #%00100000\n  \n  COUNT   = $00\n  \n  .org PROG\n  RESTART:\n  ; CODE HERE\n  LDA #%11100000\n  STA DDRA\n  LDA #%11111111\n  STA DDRB\n  JSR LCD_ON\n  JSR LCD_ENTRY\n  LDX #$00\n  JMP @LOOP\n  \n  @LOOP:\n      LDA $8900,X\n      JSR PRINT\n      JSR DELAY\n      INX\n      TXA\n      CMP #32\n      BNE @LOOP\n      BRK\n  ;PGM END\n\n  DELAY:\n      LDY #00\n  @REPEAT:\n      INY\n      NOP\n      TYA\n      CMP #03\n      BNE @REPEAT\n      RTS\n  \n  LCD_ENTRY:\n      LDA #%00000111\n      STA PORTB\n      LDA E\n      STA PORTA\n      LDA #$00\n      STA PORTA\n      RTS\n  \n  LCD_ON:\n      LDA #%00001100\n      STA PORTB\n      LDA E\n      STA PORTA\n      LDA #$00\n      STA PORTA\n      RTS\n  \n  PRINT:\n      STA PORTB\n      LDA E\n      ORA RS\n      STA PORTA\n      LDA #$00\n      STA PORTA\n      RTS\n  \n  .org $8900\n  .byte "Welcome To 6502 8-Bits Computer.   "\n  \n  .org RESB\n  .addr RESTART  \n',this.title="CODE",this.code="",this.isSource=!0,this.options={theme:"myCoolTheme",language:"asm",value:this.source,automaticLayout:!0}}ngOnInit(){}ngAfterViewInit(){this.monacoEditorService.load(),this.initMonaco()}initMonaco(){this.monacoEditorService.loaded?(monaco.languages.register({id:"asm"}),monaco.languages.setMonarchTokensProvider("asm",{tokenizer:{root:[[/\=/,"assignment"],[/\;.*/,"comment"],[/\".*/,"string"],[/\$[0-9a-zA-Z]\w+/,"values"],[/\#[0-9a-zA-Z]\w+/,"values"],[/\#%[0-9]\w+/,"values"],[/\%[0-9]\w+/,"values"],[/\#/,"values"],[/\$/,"values"],[/\%/,"values"],[/[0-9]\w+/,"values"],[/[A-Za-z].*\:/,"labels"],[/@[A-Za-z].*\:/,"labels"],[/\.\w+/,"command"],[/\./,"command"],[/\w+/,"instruction"]]}}),monaco.editor.defineTheme("myCoolTheme",{base:"vs-dark",inherit:!0,rules:[{token:"assignment",foreground:"fefefe"},{token:"values",foreground:"ff9009"},{token:"variables",foreground:"8edbff"},{token:"instruction",foreground:"8edbff"},{token:"command",foreground:"eb445a",fontStyle:"bold"},{token:"comment",foreground:"2dd36f"},{token:"string",foreground:"ffca22"},{token:"labels",foreground:"fefefe"}],colors:{}}),this._editor=monaco.editor.create(this._editorContainer.nativeElement,this.options)):this.monacoEditorService.loadingFinished.pipe((0,At.P)()).subscribe(()=>{this.initMonaco()})}loadSource(){this.isSource||(this._editor.setValue(this.source),this.isSource=!0,this.title="CODE")}loadHex(){!this.isSource||(this.source=this._editor.getValue(),this._editor.setValue(this.code),this.isSource=!1,this.title="HEX")}assemble(){this.monacoEditorService.loaded&&(this.source=this._editor.getValue(),this.code=this.assembler.assembe(this.source),this.code&&(this.buffer.clear(),this.assembler.showToast("Assembled!"),this.load()))}load(){this.code.split("\n").forEach(e=>{let i=e.split(":")[0];const r=e.split(":")[1],l=parseInt(i,16);i&&r.split(" ").map((u,C)=>{if(""!=u){const v=parseInt(u,16);this.buffer.write(l+(C-1&255),v)}})})}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(y.yF),t.Y36(St),t.Y36(te),t.Y36(Vt))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-code"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ht,7),2&e){let r;t.iGM(r=t.CRH())&&(i._editorContainer=r.first)}},decls:12,vars:2,consts:[["slot","start"],["slot","end","fill","solid",3,"click"],["slot","end","fill","solid",3,"disabled","click"],[1,"editor-container",2,"height","90%"],["editorContainer",""]],template:function(e,i){1&e&&(t.TgZ(0,"ion-buttons")(1,"ion-title",0)(2,"h1"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-button",1),t.NdJ("click",function(){return i.loadSource()}),t._uU(5,"code"),t.qZA(),t.TgZ(6,"ion-button",1),t.NdJ("click",function(){return i.loadHex()}),t._uU(7,"hex"),t.qZA(),t.TgZ(8,"ion-button",2),t.NdJ("click",function(){return i.assemble()}),t._uU(9,"ASSEMBLE"),t.qZA()(),t._UZ(10,"div",3,4)),2&e&&(t.xp6(3),t.Oqu(i.title),t.xp6(5),t.Q6J("disabled",!i.isSource))},dependencies:[y.YG,y.Sm,y.wd]}),c})(),Le=(()=>{class c{constructor(){this.zeroPad=(e,i)=>String(e).padStart(i,"0")}transform(e,i){return this.zeroPad(e,i).toUpperCase()}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275pipe=t.Yjl({name:"zeropad",type:c,pure:!0}),c})();function jt(c,n){if(1&c&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"zeropad"),t.qZA()),2&c){const e=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e,2))}}function Kt(c,n){if(1&c&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"zeropad"),t.qZA()),2&c){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e,2)," ")}}function Wt(c,n){if(1&c&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"zeropad"),t.qZA(),t.YNc(4,Kt,3,4,"td",4),t.qZA()),2&c){const e=n.$implicit,i=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,2,e,4)),t.xp6(2),t.Q6J("ngForOf",i.getCols(e))}}let es=(()=>{class c{constructor(e){this.buffer=e,this.LSB_COLS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],this.MSB_COLS=[],this.FROM="0000"}ngOnInit(){this.buffer.getBus().subscribe(e=>{this.MSB_COLS=Object.keys(e),this.BUS=e})}load(){let e=parseInt(this.FROM,16);this.buffer.FromTo(e,e+255),this.buffer.refresh()}clear(){this.buffer.clear()}getCols(e){return this.BUS[e]}get TO(){return(parseInt(this.FROM,16)+255).toString(16)}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(te))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-mem-buffer"]],decls:19,vars:10,consts:[["slot","start"],["type","text","maxlength","4",2,"width","4em",3,"ngModel","ngModelChange"],["slot","end","fill","solid",3,"click"],["id","customers"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-buttons")(1,"ion-title",0)(2,"h2"),t._uU(3),t.ALo(4,"uppercase"),t.ALo(5,"zeropad"),t.qZA()(),t.TgZ(6,"input",1),t.NdJ("ngModelChange",function(l){return i.FROM=l}),t.qZA(),t.TgZ(7,"ion-button",2),t.NdJ("click",function(){return i.load()}),t._uU(8,"LOAD"),t.qZA(),t.TgZ(9,"ion-button",2),t.NdJ("click",function(){return i.clear()}),t._uU(10,"CLEAR"),t.qZA()(),t.TgZ(11,"table",3)(12,"thead")(13,"tr")(14,"th"),t._uU(15,"-"),t.qZA(),t.YNc(16,jt,3,4,"th",4),t.qZA()(),t.TgZ(17,"tbody"),t.YNc(18,Wt,5,5,"tr",4),t.qZA()()),2&e&&(t.xp6(3),t.AsE("From: ",t.lcZ(4,5,i.FROM)," - To: ",t.xi3(5,7,i.TO,4),""),t.xp6(3),t.Q6J("ngModel",i.FROM),t.xp6(10),t.Q6J("ngForOf",i.LSB_COLS),t.xp6(2),t.Q6J("ngForOf",i.MSB_COLS))},dependencies:[q.sg,Y.Fj,Y.JJ,Y.nD,Y.On,y.YG,y.Sm,y.wd,q.gd,Le],styles:[".container[_ngcontent-%COMP%]{height:50%;overflow-y:scroll;border:.5px solid gray}#customers[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:6px;margin:2px;text-align:center}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;background-color:#04aa6d;color:#fff}"]}),c})(),ts=(()=>{class c{constructor(){}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-mem-map"]],decls:31,vars:0,consts:[[2,"height","140px","display","flex"],[1,"sm-kb","free","map"],[1,"sm-kb","stack","map"],[1,"lg-kb","free","map"],[1,"sm-kb","via","map"],[1,"lg-kb","rom","map"],["size","12"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p"),t._uU(3,"ZeroPage 0x0000 - 0x00FF"),t.qZA()(),t.TgZ(4,"div",2)(5,"p"),t._uU(6,"Stack 0x0100 - 0x01FF"),t.qZA()(),t.TgZ(7,"div",3)(8,"p"),t._uU(9,"Free 0x0200 - 0x5FFF"),t.qZA()(),t.TgZ(10,"div",4)(11,"p"),t._uU(12,"VIA 0x6000 - 0x6FFF"),t.qZA()(),t.TgZ(13,"div",1)(14,"p"),t._uU(15,"Free 0x7000 - 0x7FF0"),t.qZA()(),t.TgZ(16,"div",5)(17,"p"),t._uU(18,"Rom 0x8000 - 0xFFF9"),t.qZA()()(),t.TgZ(19,"ion-row")(20,"ion-col",6)(21,"h4"),t._uU(22,"System Vectors"),t.qZA(),t.TgZ(23,"p"),t._uU(24,"Random: 0x60FE"),t.qZA(),t.TgZ(25,"p"),t._uU(26,"NMI: 0xFFFA"),t.qZA(),t.TgZ(27,"p"),t._uU(28,"RESET: 0xFFFC"),t.qZA(),t.TgZ(29,"p"),t._uU(30,"IRQ: 0xFFFE"),t.qZA()()())},dependencies:[y.wI,y.Nd],styles:[".map[_ngcontent-%COMP%]{padding:5px;border:1px solid gray}.sm-kb[_ngcontent-%COMP%]{width:100px}.lg-kb[_ngcontent-%COMP%]{width:400px}.ram[_ngcontent-%COMP%]{background:rgba(255,184,3,.816)}.via[_ngcontent-%COMP%]{background:rgba(73,255,53,.784)}.stack[_ngcontent-%COMP%]{background:rgba(255,3,3,.816)}.free[_ngcontent-%COMP%]{background:rgba(56,53,255,.784)}.rom[_ngcontent-%COMP%]{background:rgba(239,14,228,.816)}"]}),c})();const ss=function(){return{position:" absolute",top:"50%",left:"50%"}};let cs=(()=>{class c{constructor(){}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-schematic"]],decls:5,vars:2,consts:[["href","https://blackshark537.github.io/6502/assets/imgs/6502.png","target","_blank","rel","noopener noreferrer"],["src","assets/imgs/6502.png","alt","schematic"],[3,"ngStyle"],["color","medium","size","large","name","eye-outline"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"ion-label"),t._UZ(4,"ion-icon",3),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngStyle",t.DdM(1,ss)))},dependencies:[q.PC,y.gu,y.Q$],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),c})();var is=R(6498),Ne=R(6014),os=R(6688);function rs(c){const{subscriber:n,counter:e,period:i}=c;n.next(e),this.schedule({subscriber:n,counter:e+1,period:i},i)}var d=(()=>{return(c=d||(d={}))[c.C=1]="C",c[c.Z=2]="Z",c[c.I=4]="I",c[c.D=8]="D",c[c.B=16]="B",c[c.U=32]="U",c[c.V=64]="V",c[c.N=128]="N",d;var c})(),f=(()=>{return(c=f||(f={}))[c.DB0=1]="DB0",c[c.DB1=2]="DB1",c[c.DB2=4]="DB2",c[c.DB3=8]="DB3",c[c.DB4=16]="DB4",c[c.DB5=32]="DB5",c[c.DB6=64]="DB6",c[c.DB7=128]="DB7",f;var c})(),U=(()=>{return(c=U||(U={}))[c.A=1]="A",c[c.B=2]="B",c[c.C=4]="C",c[c.D=8]="D",c[c.N=16]="N",c[c.RS=32]="RS",c[c.RW=64]="RW",c[c.E=128]="E",U;var c})();class ye extends z{}let be=(()=>{class c extends z{constructor(){super(c.name),this.N=0,this.C=0,this.B=0,this.D=0,this.S=0,this.ID=1,this.SC=0,this.RL=0,this.AC=0,this.IR=0,this.DR=0,this.BF=!1,this.DDRAM_SIZE=80,this.DDRAM=new Array(this.DDRAM_SIZE),this.CGROM=[["?","?"," ","0","@","P","`","p","?","?","?","-","?","?","?","?"],["?","?","!","1","A","Q","a","q","?","?","?","-","?","?","?","?"],["?","?",'"',"2","B","R","b","r","?","?","?","-","?","?","?","?"],["?","?","#","3","C","S","c","s","?","?","?","-","?","?","?","?"],["?","?","$","4","D","T","d","t","?","?","?","-","?","?","?","?"],["?","?","%","5","E","U","e","u","?","?","?","-","?","?","?","?"],["?","?","&","6","F","V","f","v","?","?","?","-","?","?","?","?"],["?","?","'","7","G","W","g","w","?","?","?","-","?","?","?","?"],["?","?","(","8","H","X","h","x","?","?","?","-","?","?","?","?"],["?","?",")","9","I","Y","i","y","?","?","?","-","?","?","?","?"],["?","?","*",":","J","Z","j","z","?","?","?","-","?","?","?","?"],["?","?","+",";","K","[","k","(","?","?","?","-","?","?","?","?"],["?","?",",","<","L","","l","|","?","?","?","-","?","?","?","?"],["?","?","-","=","M","]","m",")","?","?","?","-","?","?","?","?"],["?","?",".",">","N","^","n",">","?","?","?","-","?","?","?","?"],["?","?","/","?","O","_","o","<","?","?","?","-","?","?","?","?"]],this.cursor=0,this.offset1=0,this.offset2=40,this.CHARS_PER_LINE=16}reset(){this.DR=0,this.BF=!0,this.SetDataFlag(f.DB7,this.BF),this.clearDisplay(),this.returnHome(),this.N=1,this.D=0,this.C=0,this.B=0,this.ID=1,this.S=0,this.RL=0,this.SC=0,this.BF=!1,this.SetDataFlag(f.DB7,this.BF)}read(e){if(0===this.GetCmdFlag(U.RS)&&1===this.GetCmdFlag(U.RW))return this.AC|this.GetDataFlag(f.DB7)}write(e,i){if(this.IR=i,this.DR=e,0===this.GetCmdFlag(U.RW)&&1===this.GetCmdFlag(U.E)&&!this.BF){if(0===this.GetCmdFlag(U.RS))this.BF=!0,this.decodeInstruction();else{if(!this.D)return;this.DDRAM[this.cursor]=this.CGROM[15&this.DR][this.DR>>4&15],this.AC+=this.ID?1:-1,this.cursor=this.AC,this.C&&(this.DDRAM[this.cursor]="_"),1===this.S?this.offset1>=0?(this.AC<40&&this.AC>this.CHARS_PER_LINE&&(this.offset1+=this.ID?1:-1),this.AC>=40&&this.AC>this.CHARS_PER_LINE+40&&(this.offset2+=this.ID?1:-1)):(this.offset1=this.CHARS_PER_LINE,this.offset2=this.CHARS_PER_LINE+40):this.AC>this.CHARS_PER_LINE&&0===this.N&&(this.AC=0),this.AC<0&&(this.AC=this.DDRAM_SIZE-1),this.AC>this.DDRAM_SIZE&&(this.AC=0,this.offset1=0,this.offset2=0,this.cursor=0),this.refreshScreen()}this.BF=!1}}decodeInstruction(){1===this.GetDataFlag(f.DB0)&&0===this.GetDataFlag(f.DB1)&&0===this.GetDataFlag(f.DB2)&&0===this.GetDataFlag(f.DB3)&&0===this.GetDataFlag(f.DB4)&&0===this.GetDataFlag(f.DB5)&&0===this.GetDataFlag(f.DB6)&&0===this.GetDataFlag(f.DB7)&&this.clearDisplay(),1===this.GetDataFlag(f.DB1)&&0===this.GetDataFlag(f.DB2)&&0===this.GetDataFlag(f.DB3)&&0===this.GetDataFlag(f.DB4)&&0===this.GetDataFlag(f.DB5)&&0===this.GetDataFlag(f.DB6)&&0===this.GetDataFlag(f.DB7)&&this.returnHome(),1===this.GetDataFlag(f.DB2)&&0===this.GetDataFlag(f.DB3)&&0===this.GetDataFlag(f.DB4)&&0===this.GetDataFlag(f.DB5)&&0===this.GetDataFlag(f.DB6)&&0===this.GetDataFlag(f.DB7)&&this.entryMode(),1===this.GetDataFlag(f.DB3)&&0===this.GetDataFlag(f.DB4)&&0===this.GetDataFlag(f.DB5)&&0===this.GetDataFlag(f.DB6)&&0===this.GetDataFlag(f.DB7)&&(this.cursorOnOffControl(!!this.GetDataFlag(f.DB1)),this.displayOnOffControl(!!this.GetDataFlag(f.DB2))),1===this.GetDataFlag(f.DB4)&&0===this.GetDataFlag(f.DB5)&&0===this.GetDataFlag(f.DB6)&&0===this.GetDataFlag(f.DB7)&&this.cursorDisplayShift(),1===this.GetDataFlag(f.DB5)&&0===this.GetDataFlag(f.DB6)&&0===this.GetDataFlag(f.DB7)&&this.functionSet(),1===this.GetCmdFlag(U.RW)&&this.SetDataFlag(f.DB7,this.BF)}GetDataFlag(e){return(this.DR&e)>0?1:0}SetDataFlag(e,i){i?this.DR|=e:this.DR&=~e}GetCmdFlag(e){return(this.IR&e)>0?1:0}functionSet(){this.N=this.GetDataFlag(f.DB3)}clearDisplay(){this.DDRAM=new Array(this.DDRAM_SIZE),this.AC=0}returnHome(){this.AC=0,this.offset1=0,this.offset2=0,this.cursor=0}entryMode(){this.S=this.GetDataFlag(f.DB0),this.ID=this.GetDataFlag(f.DB1)}displayOnOffControl(e=!1){this.D=e?1:0,this.hasDevice(ye.name).turnOnOff(e)}cursorDisplayShift(){this.RL=this.GetDataFlag(f.DB2),this.SC=this.GetDataFlag(f.DB3)}cursorOnOffControl(e){this.C=e?1:0}blinkCursor(){}refreshScreen(){this.hasDevice(ye.name).fillText(this.line1,this.line2)}get line1(){return this.DDRAM.filter((e,i)=>i<40&&i>=this.offset1).join("")}get line2(){return this.DDRAM.filter((e,i)=>i>=40&&i>=this.offset2).join("")}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),$e=(()=>{class c extends z{constructor(){super(c.name),this.key=0}read(e){return this.key}write(e,i){}reset(){}TurnOn(){addEventListener("keyup",e=>{e.preventDefault(),this.key=e.keyCode;const i=this.parent;i&&(i.portb=this.key,i.dispatchiIRQ())},!0)}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),oe=(()=>{class c extends z{constructor(){super(c.name),this.IER=0,this.IFR=0,this.ddra=0,this.ddrb=0,this.portb=0,this.porta=0,this.isIRQ=!0,this.isNMI=!1,this.isRandom=!0,this.isKeboard=!1,this.isLcd=!0,this._PORTA$=new ie.X([0,0]),this._PORTB$=new ie.X([0,0]),this.Set_IER_Flag(f.DB7,1)}reset(){this.childs.forEach(e=>e.reset())}read(e){if(this.isRandom&&24830===e){const i=Math.floor(255*Math.random()).toString();return parseInt(i,16)}return 24576===e?this.portb:24577===e?this.porta:void 0}write(e,i){if(24589===e&&(this.IER=i),24588===e&&(this.IFR=i),24576===e&&(this.portb=i),24577===e&&(this.porta=i),24578===e&&(this.ddrb=i),24579===e&&(this.ddra=i),this.isLcd){const r=this.hasDevice(be.name);r&&r.write(this.portb&this.ddrb,this.porta&this.ddra)}this._PORTB$.next([this.ddrb,this.portb]),this._PORTA$.next([this.ddra,this.porta])}Get_IER_Flag(e){return(this.IER&e)>0?1:0}Set_IER_Flag(e,i){i?this.IER|=e:this.IER&=~e}Get_IFR_Flag(e){return(this.IFR&e)>0?1:0}Set_IFR_Flag(e,i){i?this.IFR|=e:this.IFR&=~e}dispatchiIRQ(){var e;1===this.Get_IER_Flag(f.DB7)&&(this.isIRQ&&this.parent instanceof Ce&&(null===(e=this.parent)||void 0===e||e.irq()),this.isNMI&&this.parent instanceof Ce&&this.parent.nmi())}get PORTA$(){return this._PORTA$.asObservable()}get PORTB$(){return this._PORTB$.asObservable()}get connectRandomDevice(){return this.isRandom}set connectRandomDevice(e){this.isRandom=e}get connectLcd(){return this.isLcd}set connectLcd(e){this.isLcd=e}get connectKeyboard(){return this.isKeboard}set connectKeyboard(e){if(this.isKeboard=e,this.isKeboard){const i=this.hasDevice($e.name);i&&i.TurnOn()}}get connectToIRQ(){return this.isIRQ}set connectToIRQ(e){this.isIRQ=e,this.isNMI=!1}get connectToNMI(){return this.isNMI}set connectToNMI(e){this.isNMI=e,this.isIRQ=!1}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Ce=(()=>{class c extends z{constructor(){super(c.name),this.a=0,this.x=0,this.y=0,this.stkp=0,this.pc=0,this.status=0,this.opcode=0,this.fetched=0,this.pcl=0,this.pch=0,this.instruction_name="",this.mlb=1,this.addr_rel=0,this.addr_abs=0,this.cycles=0,this.clock_count=0,this.stop=!1,this.freq="1000000",this.IMP=()=>(this.fetched=this.a,0),this.IMM=()=>(this.addr_abs=this.pc++,0),this.ZP0=()=>{const e=this;return e.addr_abs=e.read(e.pc),e.pc++,e.addr_abs&=255,0},this.ZPX=()=>{const e=this;return e.addr_abs=e.read(e.pc)+e.x,e.pc++,e.addr_abs&=255,0},this.ZPY=()=>{const e=this;return e.addr_abs=e.read(e.pc)+e.y,e.pc++,e.addr_abs&=255,0},this.REL=()=>{const e=this;return e.addr_rel=e.read(e.pc),e.pc++,128&e.addr_rel&&(e.addr_rel|=65280),0},this.ABS=()=>{const e=this,i=e.read(e.pc);e.pc++;const r=e.read(e.pc);return e.pc++,e.addr_abs=r<<8|i,0},this.ABX=()=>{const e=this,i=e.read(e.pc);e.pc++;const r=e.read(e.pc);return e.pc++,e.addr_abs=r<<8|i,e.addr_abs+=e.x,(65280&e.addr_abs)!=r<<8?1:0},this.ABY=()=>{const e=this,i=e.read(e.pc);e.pc++;const r=e.read(e.pc);return e.pc++,e.addr_abs=r<<8|i,e.addr_abs+=e.y,(65280&e.addr_abs)!=r<<8?1:0},this.IND=()=>{const e=this,i=e.read(e.pc);e.pc++;const r=e.read(e.pc);e.pc++;const l=r<<8|i;return e.addr_abs=255===i?e.read(65280&l)<<8|e.read(l+0):e.read(l+1)<<8|e.read(l+0),0},this.IZX=()=>{const e=this,i=e.read(e.pc);e.pc++;const r=e.read(i+e.x&255),l=e.read(i+e.x+1&255);return e.addr_abs=l<<8|r,0},this.IZY=()=>{const e=this,i=e.read(e.pc);e.pc++;const r=e.read(255&i),l=e.read(i+1&255);return e.addr_abs=l<<8|r,e.addr_abs+=e.y,(65280&e.addr_abs)!=l<<8?1:0},this.ADC=()=>{const e=this;e.fetch();const i=e.a+e.fetched+e.GetFlag(d.C);return e.SetFlag(d.C,i>255),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.V,~(e.a^this.fetched)&(this.a^i)&128),e.SetFlag(d.N,128&i),e.a=255&i,1},this.AND=()=>{const e=this;return e.fetch(),e.a=e.a&e.fetched,e.SetFlag(d.Z,0===e.a),e.SetFlag(d.N,128&e.a),1},this.ASL=()=>{const e=this;e.mlb=0,e.fetch();const i=e.fetched<<1;return e.SetFlag(d.C,(65280&i)>0),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),e.instructions[e.opcode>>4][15&e.opcode].addMode===e.IMP?e.a=255&i:e.write(e.addr_abs,255&i),0},this.BCC=()=>{const e=this;return 0===e.GetFlag(d.C)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=e.addr_abs),0},this.BCS=()=>{const e=this;return 1===e.GetFlag(d.C)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=e.addr_abs),0},this.BEQ=()=>{const e=this;return 1===e.GetFlag(d.Z)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=e.addr_abs),0},this.BIT=()=>{const e=this;return e.fetch(),e.SetFlag(d.Z,0==(e.a&e.fetched&255)),e.SetFlag(d.N,128&e.fetched),e.SetFlag(d.V,64&e.fetched),0},this.BMI=()=>{const e=this;return 1===e.GetFlag(d.N)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=e.addr_abs),0},this.BNE=()=>{const e=this;return 0===e.GetFlag(d.Z)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=65535&e.addr_abs),0},this.BPL=()=>{const e=this;return 0==e.GetFlag(d.N)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=e.addr_abs),0},this.BRK=()=>(this.stop=!0,0),this.BVC=()=>{const e=this;return 0==e.GetFlag(d.V)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=e.addr_abs),0},this.BVS=()=>{const e=this;return 1==e.GetFlag(d.V)&&(e.cycles++,e.addr_abs=e.pc+e.addr_rel,(65280&e.addr_abs)!=(65280&e.pc)&&e.cycles++,e.pc=e.addr_abs),0},this.CLC=()=>(this.SetFlag(d.C,!1),0),this.CLD=()=>(this.SetFlag(d.D,!1),0),this.CLI=()=>(this.SetFlag(d.I,!1),0),this.CLV=()=>(this.SetFlag(d.V,!1),0),this.CMP=()=>{const e=this;e.fetch();const i=e.a-e.fetched;return e.SetFlag(d.C,e.a>=e.fetched),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),1},this.CPX=()=>{const e=this;e.fetch();const i=e.x-e.fetched;return e.SetFlag(d.C,e.x>=e.fetched),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),0},this.CPY=()=>{const e=this;e.fetch();const i=e.y-e.fetched;return e.SetFlag(d.C,e.y>=e.fetched),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),0},this.DEC=()=>{const e=this;e.mlb=0,e.fetch();const i=e.fetched-1;return e.write(e.addr_abs,255&i),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),0},this.DEX=()=>{const e=this;return e.x--,e.SetFlag(d.Z,0===e.x),e.SetFlag(d.N,128&e.x),0},this.DEY=()=>{const e=this;return e.y--,e.SetFlag(d.Z,0===e.y),e.SetFlag(d.N,128&e.y),0},this.EOR=()=>{const e=this;return e.fetch(),e.a=e.a^e.fetched,e.SetFlag(d.Z,0===e.a),e.SetFlag(d.N,128&e.a),1},this.INC=()=>{const e=this;e.mlb=0,e.fetch();const i=e.fetched+1;return e.write(e.addr_abs,255&i),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),0},this.INX=()=>{const e=this;return e.x++,e.SetFlag(d.Z,0===e.x),e.SetFlag(d.N,128&e.x),0},this.INY=()=>{const e=this;return e.y++,e.SetFlag(d.Z,0===e.y),e.SetFlag(d.N,128&e.y),0},this.JMP=()=>(this.pc=this.addr_abs,0),this.JSR=()=>{const e=this;return e.pc--,e.write(256+e.stkp,e.pc>>8&255),e.stkp--,e.write(256+e.stkp,255&e.pc),e.stkp--,e.pc=e.addr_abs,0},this.LDA=()=>{const e=this;return e.fetch(),e.a=e.fetched,e.SetFlag(d.Z,0===e.a),e.SetFlag(d.N,128&e.a),1},this.LDX=()=>{const e=this;return e.fetch(),e.x=e.fetched,e.SetFlag(d.Z,0===e.x),e.SetFlag(d.N,128&e.x),1},this.LDY=()=>{const e=this;return e.fetch(),e.y=e.fetched,e.SetFlag(d.Z,0===e.y),e.SetFlag(d.N,128&e.y),1},this.LSR=()=>{const e=this;e.mlb=0,e.fetch(),e.SetFlag(d.C,1&e.fetched);const i=e.fetched>>1;return e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),e.instructions[e.opcode>>4][15&e.opcode].addMode===e.IMP?e.a=255&i:e.write(e.addr_abs,255&i),0},this.NOP=()=>{switch(this.opcode){case 28:case 60:case 92:case 124:case 220:case 252:return 1}return 0},this.ORA=()=>{const e=this;return e.fetch(),e.a=e.a|e.fetched,e.SetFlag(d.Z,0==e.a),e.SetFlag(d.N,128&e.a),1},this.PHA=()=>{const e=this;return e.write(256+e.stkp,e.a),e.stkp--,0},this.PHP=()=>{const e=this;return e.write(256+e.stkp,e.status|d.B|d.U),e.SetFlag(d.B,0),e.SetFlag(d.U,0),e.stkp--,0},this.PLA=()=>{const e=this;return e.stkp++,e.a=e.read(256+e.stkp),e.SetFlag(d.Z,0==e.a),e.SetFlag(d.N,128&e.a),0},this.PLP=()=>{const e=this;return e.stkp++,e.status=e.read(256+e.stkp),e.SetFlag(d.U,1),0},this.ROL=()=>{const e=this;e.mlb=0,e.fetch();const i=e.fetched<<1|e.GetFlag(d.C);return e.SetFlag(d.C,65280&i),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),e.instructions[e.opcode>>4][15&e.opcode].addMode===e.IMP?e.a=255&i:e.write(e.addr_abs,255&i),0},this.ROR=()=>{const e=this;e.mlb=0,e.fetch();const i=e.GetFlag(d.C)<<7|e.fetched>>1;return e.SetFlag(d.C,1&e.fetched),e.SetFlag(d.Z,0==(255&i)),e.SetFlag(d.N,128&i),e.instructions[e.opcode>>4][15&e.opcode].addMode==e.IMP?e.a=255&i:e.write(e.addr_abs,255&i),0},this.RTI=()=>{const e=this;return e.stkp++,e.status=e.read(256+e.stkp),e.status&=~d.B,e.status&=~d.U,e.status&=~d.I,e.stkp++,e.pc=e.read(256+e.stkp),e.stkp++,e.pc|=e.read(256+e.stkp)<<8,0},this.RTS=()=>{const e=this;return e.stkp++,e.pc=e.read(256+e.stkp),e.stkp++,e.pc|=e.read(256+e.stkp)<<8,e.pc++,0},this.SEC=()=>(this.SetFlag(d.C,!0),0),this.SED=()=>(this.SetFlag(d.D,!0),0),this.SEI=()=>(this.SetFlag(d.I,!0),0),this.STA=()=>{const e=this;return e.write(e.addr_abs,e.a),0},this.STX=()=>{const e=this;return e.write(e.addr_abs,e.x),0},this.STY=()=>{const e=this;return e.write(e.addr_abs,e.y),0},this.TAX=()=>{const e=this;return e.x=e.a,e.SetFlag(d.Z,0==e.x),e.SetFlag(d.N,128&e.x),0},this.TAY=()=>{const e=this;return e.y=e.a,e.SetFlag(d.Z,0==e.y),e.SetFlag(d.N,128&e.y),0},this.TSX=()=>{const e=this;return e.x=e.stkp,e.SetFlag(d.Z,0==e.x),e.SetFlag(d.N,128&e.x),0},this.TXA=()=>{const e=this;return e.a=e.x,e.SetFlag(d.Z,0==e.a),e.SetFlag(d.N,128&e.a),1},this.TXS=()=>(this.stkp=this.x,0),this.TYA=()=>{const e=this;return e.a=e.y,e.SetFlag(d.Z,0==e.a),e.SetFlag(d.N,128&e.a),0},this.XXX=()=>0,this.instructions=[[{name:"BRK",opcode:0,exec:this.BRK,addMode:this.IMP,cicle:7},{name:"ORA",opcode:1,exec:this.ORA,addMode:this.IZX,cicle:6},{name:"???",opcode:2,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:3,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:4,exec:this.NOP,addMode:this.IMP,cicle:3},{name:"ORA",opcode:5,exec:this.ORA,addMode:this.ZP0,cicle:3},{name:"ASL",opcode:6,exec:this.ASL,addMode:this.ZP0,cicle:5},{name:"???",opcode:7,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"PHP",opcode:8,exec:this.PHP,addMode:this.IMP,cicle:3},{name:"ORA",opcode:9,exec:this.ORA,addMode:this.IMM,cicle:2},{name:"ASL",opcode:10,exec:this.ASL,addMode:this.IMP,cicle:2},{name:"???",opcode:11,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:12,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"ORA",opcode:13,exec:this.ORA,addMode:this.ABS,cicle:4},{name:"ASL",opcode:14,exec:this.ASL,addMode:this.ABS,cicle:6},{name:"???",opcode:15,exec:this.XXX,addMode:this.IMP,cicle:6}],[{name:"BPL",opcode:16,exec:this.BPL,addMode:this.REL,cicle:2},{name:"ORA",opcode:17,exec:this.ORA,addMode:this.IZY,cicle:5},{name:"???",opcode:18,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:19,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:20,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"ORA",opcode:21,exec:this.ORA,addMode:this.ZPX,cicle:4},{name:"ASL",opcode:22,exec:this.ASL,addMode:this.ZPX,cicle:6},{name:"???",opcode:23,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"CLC",opcode:24,exec:this.CLC,addMode:this.IMP,cicle:2},{name:"ORA",opcode:25,exec:this.ORA,addMode:this.ABY,cicle:4},{name:"???",opcode:26,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:27,exec:this.XXX,addMode:this.IMP,cicle:7},{name:"???",opcode:28,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"ORA",opcode:29,exec:this.ORA,addMode:this.ABX,cicle:4},{name:"ASL",opcode:30,exec:this.ASL,addMode:this.ABX,cicle:7},{name:"???",opcode:31,exec:this.XXX,addMode:this.IMP,cicle:7}],[{name:"JSR",opcode:32,exec:this.JSR,addMode:this.ABS,cicle:6},{name:"AND",opcode:33,exec:this.AND,addMode:this.IZX,cicle:6},{name:"???",opcode:34,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:35,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"BIT",opcode:36,exec:this.BIT,addMode:this.ZP0,cicle:3},{name:"AND",opcode:37,exec:this.AND,addMode:this.ZP0,cicle:3},{name:"ROL",opcode:38,exec:this.ROL,addMode:this.ZP0,cicle:5},{name:"???",opcode:39,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"PLP",opcode:40,exec:this.PLP,addMode:this.IMP,cicle:4},{name:"AND",opcode:41,exec:this.AND,addMode:this.IMM,cicle:2},{name:"ROL",opcode:42,exec:this.ROL,addMode:this.IMP,cicle:2},{name:"???",opcode:43,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"BIT",opcode:44,exec:this.BIT,addMode:this.ABS,cicle:4},{name:"AND",opcode:45,exec:this.AND,addMode:this.ABS,cicle:4},{name:"ROL",opcode:46,exec:this.ROL,addMode:this.ABS,cicle:6},{name:"???",opcode:47,exec:this.XXX,addMode:this.IMP,cicle:6}],[{name:"BMI",opcode:48,exec:this.BMI,addMode:this.REL,cicle:2},{name:"AND",opcode:49,exec:this.AND,addMode:this.IZY,cicle:5},{name:"???",opcode:50,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:51,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:52,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"AND",opcode:53,exec:this.AND,addMode:this.ZPX,cicle:4},{name:"ROL",opcode:54,exec:this.ROL,addMode:this.ZPX,cicle:6},{name:"???",opcode:55,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"SEC",opcode:56,exec:this.SEC,addMode:this.IMP,cicle:2},{name:"AND",opcode:57,exec:this.AND,addMode:this.ABY,cicle:4},{name:"???",opcode:58,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:59,exec:this.XXX,addMode:this.IMP,cicle:7},{name:"???",opcode:60,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"AND",opcode:61,exec:this.AND,addMode:this.ABX,cicle:4},{name:"ROL",opcode:62,exec:this.ROL,addMode:this.ABX,cicle:7},{name:"???",opcode:63,exec:this.XXX,addMode:this.IMP,cicle:7}],[{name:"RTI",opcode:64,exec:this.RTI,addMode:this.IMP,cicle:6},{name:"EOR",opcode:65,exec:this.EOR,addMode:this.IZX,cicle:6},{name:"???",opcode:66,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:67,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:68,exec:this.NOP,addMode:this.IMP,cicle:3},{name:"EOR",opcode:69,exec:this.EOR,addMode:this.ZP0,cicle:3},{name:"LSR",opcode:70,exec:this.LSR,addMode:this.ZP0,cicle:5},{name:"???",opcode:71,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"PHA",opcode:72,exec:this.PHA,addMode:this.IMP,cicle:3},{name:"EOR",opcode:73,exec:this.EOR,addMode:this.IMM,cicle:2},{name:"LSR",opcode:74,exec:this.LSR,addMode:this.IMP,cicle:2},{name:"???",opcode:75,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"JMP",opcode:76,exec:this.JMP,addMode:this.ABS,cicle:3},{name:"EOR",opcode:77,exec:this.EOR,addMode:this.ABS,cicle:4},{name:"LSR",opcode:78,exec:this.LSR,addMode:this.ABS,cicle:6},{name:"???",opcode:79,exec:this.XXX,addMode:this.IMP,cicle:6}],[{name:"BVC",opcode:80,exec:this.BVC,addMode:this.REL,cicle:2},{name:"EOR",opcode:81,exec:this.EOR,addMode:this.IZY,cicle:5},{name:"???",opcode:82,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:83,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:84,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"EOR",opcode:85,exec:this.EOR,addMode:this.ZPX,cicle:4},{name:"LSR",opcode:86,exec:this.LSR,addMode:this.ZPX,cicle:6},{name:"???",opcode:87,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"CLI",opcode:88,exec:this.CLI,addMode:this.IMP,cicle:2},{name:"EOR",opcode:89,exec:this.EOR,addMode:this.ABY,cicle:4},{name:"???",opcode:90,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:91,exec:this.XXX,addMode:this.IMP,cicle:7},{name:"???",opcode:92,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"EOR",opcode:93,exec:this.EOR,addMode:this.ABX,cicle:4},{name:"LSR",opcode:94,exec:this.LSR,addMode:this.ABX,cicle:7},{name:"???",opcode:95,exec:this.XXX,addMode:this.IMP,cicle:7}],[{name:"RTS",opcode:96,exec:this.RTS,addMode:this.IMP,cicle:6},{name:"ADC",opcode:97,exec:this.ADC,addMode:this.IZX,cicle:6},{name:"???",opcode:98,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:99,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:100,exec:this.NOP,addMode:this.IMP,cicle:3},{name:"ADC",opcode:101,exec:this.ADC,addMode:this.ZP0,cicle:3},{name:"ROR",opcode:102,exec:this.ROR,addMode:this.ZP0,cicle:5},{name:"???",opcode:103,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"PLA",opcode:104,exec:this.PLA,addMode:this.IMP,cicle:4},{name:"ADC",opcode:105,exec:this.ADC,addMode:this.IMM,cicle:2},{name:"ROR",opcode:106,exec:this.ROR,addMode:this.IMP,cicle:2},{name:"???",opcode:107,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"JMP",opcode:108,exec:this.JMP,addMode:this.IND,cicle:5},{name:"ADC",opcode:109,exec:this.ADC,addMode:this.ABS,cicle:4},{name:"ROR",opcode:110,exec:this.ROR,addMode:this.ABS,cicle:6},{name:"???",opcode:111,exec:this.XXX,addMode:this.IMP,cicle:6}],[{name:"BVS",opcode:112,exec:this.BVS,addMode:this.REL,cicle:2},{name:"ADC",opcode:113,exec:this.ADC,addMode:this.IZY,cicle:5},{name:"???",opcode:114,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:115,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:116,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"ADC",opcode:117,exec:this.ADC,addMode:this.ZPX,cicle:4},{name:"ROR",opcode:118,exec:this.ROR,addMode:this.ZPX,cicle:6},{name:"???",opcode:119,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"SEI",opcode:120,exec:this.SEI,addMode:this.IMP,cicle:2},{name:"ADC",opcode:121,exec:this.ADC,addMode:this.ABY,cicle:4},{name:"???",opcode:122,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:123,exec:this.XXX,addMode:this.IMP,cicle:7},{name:"???",opcode:124,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"ADC",opcode:125,exec:this.ADC,addMode:this.ABX,cicle:4},{name:"ROR",opcode:126,exec:this.ROR,addMode:this.ABX,cicle:7},{name:"???",opcode:127,exec:this.XXX,addMode:this.IMP,cicle:7}],[{name:"???",opcode:128,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"STA",opcode:129,exec:this.STA,addMode:this.IZX,cicle:6},{name:"???",opcode:130,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:131,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"STY",opcode:132,exec:this.STY,addMode:this.ZP0,cicle:3},{name:"STA",opcode:133,exec:this.STA,addMode:this.ZP0,cicle:3},{name:"STX",opcode:134,exec:this.STX,addMode:this.ZP0,cicle:3},{name:"???",opcode:135,exec:this.XXX,addMode:this.IMP,cicle:3},{name:"DEY",opcode:136,exec:this.DEY,addMode:this.IMP,cicle:2},{name:"???",opcode:137,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"TXA",opcode:138,exec:this.TXA,addMode:this.IMP,cicle:2},{name:"???",opcode:139,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"STY",opcode:140,exec:this.STY,addMode:this.ABS,cicle:4},{name:"STA",opcode:141,exec:this.STA,addMode:this.ABS,cicle:4},{name:"STX",opcode:142,exec:this.STX,addMode:this.ABS,cicle:4},{name:"???",opcode:143,exec:this.XXX,addMode:this.IMP,cicle:4}],[{name:"BCC",opcode:144,exec:this.BCC,addMode:this.REL,cicle:2},{name:"STA",opcode:145,exec:this.STA,addMode:this.IZY,cicle:6},{name:"???",opcode:146,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:147,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"STY",opcode:148,exec:this.STY,addMode:this.ZPX,cicle:4},{name:"STA",opcode:149,exec:this.STA,addMode:this.ZPX,cicle:4},{name:"STX",opcode:150,exec:this.STX,addMode:this.ZPY,cicle:4},{name:"???",opcode:151,exec:this.XXX,addMode:this.IMP,cicle:4},{name:"TYA",opcode:152,exec:this.TYA,addMode:this.IMP,cicle:2},{name:"STA",opcode:153,exec:this.STA,addMode:this.ABY,cicle:5},{name:"TXS",opcode:154,exec:this.TXS,addMode:this.IMP,cicle:2},{name:"???",opcode:155,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"???",opcode:156,exec:this.NOP,addMode:this.IMP,cicle:5},{name:"STA",opcode:157,exec:this.STA,addMode:this.ABX,cicle:5},{name:"???",opcode:158,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"???",opcode:159,exec:this.XXX,addMode:this.IMP,cicle:5}],[{name:"LDY",opcode:160,exec:this.LDY,addMode:this.IMM,cicle:2},{name:"LDA",opcode:161,exec:this.LDA,addMode:this.IZX,cicle:6},{name:"LDX",opcode:162,exec:this.LDX,addMode:this.IMM,cicle:2},{name:"???",opcode:163,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"LDY",opcode:164,exec:this.LDY,addMode:this.ZP0,cicle:3},{name:"LDA",opcode:165,exec:this.LDA,addMode:this.ZP0,cicle:3},{name:"LDX",opcode:166,exec:this.LDX,addMode:this.ZP0,cicle:3},{name:"???",opcode:167,exec:this.XXX,addMode:this.IMP,cicle:3},{name:"TAY",opcode:168,exec:this.TAY,addMode:this.IMP,cicle:2},{name:"LDA",opcode:169,exec:this.LDA,addMode:this.IMM,cicle:2},{name:"TAX",opcode:170,exec:this.TAX,addMode:this.IMP,cicle:2},{name:"???",opcode:171,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"LDY",opcode:172,exec:this.LDY,addMode:this.ABS,cicle:4},{name:"LDA",opcode:173,exec:this.LDA,addMode:this.ABS,cicle:4},{name:"LDX",opcode:174,exec:this.LDX,addMode:this.ABS,cicle:4},{name:"???",opcode:175,exec:this.XXX,addMode:this.IMP,cicle:4}],[{name:"BCS",opcode:176,exec:this.BCS,addMode:this.REL,cicle:2},{name:"LDA",opcode:177,exec:this.LDA,addMode:this.IZY,cicle:5},{name:"???",opcode:178,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:179,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"LDY",opcode:180,exec:this.LDY,addMode:this.ZPX,cicle:4},{name:"LDA",opcode:181,exec:this.LDA,addMode:this.ZPX,cicle:4},{name:"LDX",opcode:182,exec:this.LDX,addMode:this.ZPY,cicle:4},{name:"???",opcode:183,exec:this.XXX,addMode:this.IMP,cicle:4},{name:"CLV",opcode:184,exec:this.CLV,addMode:this.IMP,cicle:2},{name:"LDA",opcode:185,exec:this.LDA,addMode:this.ABY,cicle:4},{name:"TSX",opcode:186,exec:this.TSX,addMode:this.IMP,cicle:2},{name:"???",opcode:187,exec:this.XXX,addMode:this.IMP,cicle:4},{name:"LDY",opcode:188,exec:this.LDY,addMode:this.ABX,cicle:4},{name:"LDA",opcode:189,exec:this.LDA,addMode:this.ABX,cicle:4},{name:"LDX",opcode:190,exec:this.LDX,addMode:this.ABY,cicle:4},{name:"???",opcode:191,exec:this.XXX,addMode:this.IMP,cicle:4}],[{name:"CPY",opcode:192,exec:this.CPY,addMode:this.IMM,cicle:2},{name:"CMP",opcode:193,exec:this.CMP,addMode:this.IZX,cicle:6},{name:"???",opcode:194,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:195,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"CPY",opcode:196,exec:this.CPY,addMode:this.ZP0,cicle:3},{name:"CMP",opcode:197,exec:this.CMP,addMode:this.ZP0,cicle:3},{name:"DEC",opcode:198,exec:this.DEC,addMode:this.ZP0,cicle:5},{name:"???",opcode:199,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"INY",opcode:200,exec:this.INY,addMode:this.IMP,cicle:2},{name:"CMP",opcode:201,exec:this.CMP,addMode:this.IMM,cicle:2},{name:"DEX",opcode:202,exec:this.DEX,addMode:this.IMP,cicle:2},{name:"WAI",opcode:203,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"CPY",opcode:204,exec:this.CPY,addMode:this.ABS,cicle:4},{name:"CMP",opcode:205,exec:this.CMP,addMode:this.ABS,cicle:4},{name:"DEC",opcode:206,exec:this.DEC,addMode:this.ABS,cicle:6},{name:"???",opcode:207,exec:this.XXX,addMode:this.IMP,cicle:6}],[{name:"BNE",opcode:208,exec:this.BNE,addMode:this.REL,cicle:2},{name:"CMP",opcode:209,exec:this.CMP,addMode:this.IZY,cicle:5},{name:"???",opcode:210,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:211,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:212,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"CMP",opcode:213,exec:this.CMP,addMode:this.ZPX,cicle:4},{name:"DEC",opcode:214,exec:this.DEC,addMode:this.ZPX,cicle:6},{name:"???",opcode:215,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"CLD",opcode:216,exec:this.CLD,addMode:this.IMP,cicle:2},{name:"CMP",opcode:217,exec:this.CMP,addMode:this.ABY,cicle:4},{name:"NOP",opcode:218,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:219,exec:this.XXX,addMode:this.IMP,cicle:7},{name:"???",opcode:220,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"CMP",opcode:221,exec:this.CMP,addMode:this.ABX,cicle:4},{name:"DEC",opcode:222,exec:this.DEC,addMode:this.ABX,cicle:7},{name:"???",opcode:223,exec:this.XXX,addMode:this.IMP,cicle:7}],[{name:"CPX",opcode:224,exec:this.CPX,addMode:this.IMM,cicle:2},{name:"SBC",opcode:225,exec:this.SBC,addMode:this.IZX,cicle:6},{name:"???",opcode:226,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:227,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"CPX",opcode:228,exec:this.CPX,addMode:this.ZP0,cicle:3},{name:"SBC",opcode:229,exec:this.SBC,addMode:this.ZP0,cicle:3},{name:"INC",opcode:230,exec:this.INC,addMode:this.ZP0,cicle:5},{name:"???",opcode:231,exec:this.XXX,addMode:this.IMP,cicle:5},{name:"INX",opcode:232,exec:this.INX,addMode:this.IMP,cicle:2},{name:"SBC",opcode:233,exec:this.SBC,addMode:this.IMM,cicle:2},{name:"NOP",opcode:234,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:235,exec:this.SBC,addMode:this.IMP,cicle:2},{name:"CPX",opcode:236,exec:this.CPX,addMode:this.ABS,cicle:4},{name:"SBC",opcode:237,exec:this.SBC,addMode:this.ABS,cicle:4},{name:"INC",opcode:238,exec:this.INC,addMode:this.ABS,cicle:6},{name:"???",opcode:239,exec:this.XXX,addMode:this.IMP,cicle:6}],[{name:"BEQ",opcode:240,exec:this.BEQ,addMode:this.REL,cicle:2},{name:"SBC",opcode:241,exec:this.SBC,addMode:this.IZY,cicle:5},{name:"???",opcode:242,exec:this.XXX,addMode:this.IMP,cicle:2},{name:"???",opcode:243,exec:this.XXX,addMode:this.IMP,cicle:8},{name:"???",opcode:244,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"SBC",opcode:245,exec:this.SBC,addMode:this.ZPX,cicle:4},{name:"INC",opcode:246,exec:this.INC,addMode:this.ZPX,cicle:6},{name:"???",opcode:247,exec:this.XXX,addMode:this.IMP,cicle:6},{name:"SED",opcode:248,exec:this.SED,addMode:this.IMP,cicle:2},{name:"SBC",opcode:249,exec:this.SBC,addMode:this.ABY,cicle:4},{name:"NOP",opcode:250,exec:this.NOP,addMode:this.IMP,cicle:2},{name:"???",opcode:251,exec:this.XXX,addMode:this.IMP,cicle:7},{name:"???",opcode:252,exec:this.NOP,addMode:this.IMP,cicle:4},{name:"SBC",opcode:253,exec:this.SBC,addMode:this.ABX,cicle:4},{name:"INC",opcode:254,exec:this.INC,addMode:this.ABX,cicle:7},{name:"???",opcode:255,exec:this.XXX,addMode:this.IMP,cicle:7}]]}deviceInfo(){return{device:"65C02",fabricant:"BSC",year:"2022",clock:this.freq+" Hz"}}disassemble(e,i){let r=e,l=0,u=0,C=0,v=0;const _={};for(;r<i;){v=r;let b="";const S=this.read(r);let D=S>>4,B=15&S;r++,b+=(null==S?void 0:S.toString(16))+" : ",b+=this.instructions[D][B].name+" ",this.instructions[D][B].addMode===this.IMP?b+=" {IMP}":this.instructions[D][B].addMode===this.IMM?(l=this.read(r),r++,b+="#$"+(null==l?void 0:l.toString(16))+" {IMM}"):this.instructions[D][B].addMode===this.ZP0?(u=this.read(r),r++,C=0,b+="$"+(null==u?void 0:u.toString(16))+" {ZP0}"):this.instructions[D][B].addMode===this.ZPX?(u=this.read(r),r++,C=0,b+="$"+(null==u?void 0:u.toString(16))+", X {ZPX}"):this.instructions[D][B].addMode===this.ZPY?(u=this.read(r),r++,C=0,b+="$"+(null==u?void 0:u.toString(16))+", Y {ZPY}"):this.instructions[D][B].addMode===this.IZX?(u=this.read(r),r++,C=0,b+="($"+(null==u?void 0:u.toString(16))+", X) {IZX}"):this.instructions[D][B].addMode===this.IZY?(u=this.read(r),r++,C=0,b+="($"+(null==u?void 0:u.toString(16))+"), Y {IZY}"):this.instructions[D][B].addMode===this.ABS?(u=this.read(r),r++,C=this.read(r),r++,b+="$"+(65535&C<<8|u).toString(16)+" {ABS}"):this.instructions[D][B].addMode===this.ABX?(u=this.read(r),r++,C=this.read(r),r++,b+="$"+(65535&C<<8|u).toString(16)+", X {ABX}"):this.instructions[D][B].addMode===this.ABY?(u=this.read(r),r++,C=this.read(r),r++,b+="$"+(65535&C<<8|u).toString(16)+", Y {ABY}"):this.instructions[D][B].addMode===this.IND?(u=this.read(r),r++,C=this.read(r),r++,b+="($"+(65535&C<<8|u).toString(16)+") {IND}"):this.instructions[D][B].addMode===this.REL&&(l=this.read(r),r++,b+="$"+(null==l?void 0:l.toString(16))+" [$"+(r-256+l).toString(16)+"] {REL}"),_[v.toString(16)]=b}return _}read(e){var i,r;return e>=24576&&e<=28671?null===(i=this.hasDevice(oe.name))||void 0===i?void 0:i.read(e):null===(r=this.hasDevice(te.name))||void 0===r?void 0:r.read(e)}write(e,i){var r,l;e>=24576&&e<=28671&&(null===(r=this.hasDevice(oe.name))||void 0===r||r.write(e,i)),null===(l=this.hasDevice(te.name))||void 0===l||l.write(e,i)}reset(){this.addr_abs=65532,this.stop=!1,this.pcl=this.read(this.addr_abs+0),this.pch=this.read(this.addr_abs+1),this.pc=this.pch<<8|this.pcl,this.a=0,this.x=0,this.y=0,this.stkp=255,this.status=0|d.U,this.status|=d.B,this.status|=d.I,this.addr_rel=0,this.addr_abs=0,this.fetched=0,this.cycles=7}irq(){0===this.GetFlag(d.I)&&(this.write(256+this.stkp,this.pc>>8&255),this.stkp--,this.write(256+this.stkp,255&this.pc),this.stkp--,this.SetFlag(d.B,0),this.SetFlag(d.U,1),this.SetFlag(d.I,1),this.write(256+this.stkp,this.status),this.stkp--,this.addr_abs=65534,this.pcl=this.read(this.addr_abs+0),this.pch=this.read(this.addr_abs+1),this.pc=this.pch<<8|this.pcl,this.cycles=7)}nmi(){this.write(256+this.stkp,this.pc>>8&255),this.stkp--,this.write(256+this.stkp,255&this.pc),this.stkp--,this.SetFlag(d.B,0),this.SetFlag(d.U,1),this.SetFlag(d.I,1),this.write(256+this.stkp,this.status),this.stkp--,this.addr_abs=65530,this.pcl=this.read(this.addr_abs+0),this.pch=this.read(this.addr_abs+1),this.pc=this.pch<<8|this.pcl,this.SetFlag(d.I,!1),this.cycles=8}get MLB(){return this.mlb}clock(){if(0!=this.cycles){this.opcode=this.read(this.pc),this.SetFlag(d.U,!0),this.pc++,this.pch=this.opcode>>4,this.pcl=15&this.opcode,this.instruction_name=this.instructions[this.pch][this.pcl].name,this.cycles=this.instructions[this.pch][this.pcl].cicle,this.a&=255,this.x&=255,this.y&=255;const e=this.instructions[this.pch][this.pcl].addMode(),i=this.instructions[this.pch][this.pcl].exec();this.cycles+=e&i,this.SetFlag(d.U,!0)}else this.mlb=1;this.clock_count++,this.cycles--}cpu_status(){return{STATUS:{N:this.GetFlag(d.N)?1:0,V:this.GetFlag(d.V)?1:0,U:this.GetFlag(d.U)?1:0,B:this.GetFlag(d.B)?1:0,D:this.GetFlag(d.D)?1:0,I:this.GetFlag(d.I)?1:0,Z:this.GetFlag(d.Z)?1:0,C:this.GetFlag(d.C)?1:0},A:this.a.toString(16),X:this.x.toString(16),Y:this.y.toString(16),PC:(65535&this.pc).toString(16),STACK:(256+this.stkp).toString(16),CLOCKS:this.clock_count,CYCLES:this.cycles,CODE:this.opcode.toString(16),DATA:this.fetched.toString(16),NAME:this.instruction_name,FINISH:this.stop}}GetFlag(e){return(this.status&e)>0?1:0}SetFlag(e,i){i?this.status|=e:this.status&=~e}fetch(){return this.instructions[this.opcode>>4][15&this.opcode].addMode!==this.IMP&&(this.fetched=this.read(this.addr_abs)),this.fetched}SBC(){const e=this;e.fetch();const i=255^e.fetched,r=e.a+i+e.GetFlag(d.C);return e.SetFlag(d.C,65280&r),e.SetFlag(d.Z,0==(255&r)),e.SetFlag(d.V,(r^e.a)&(r^i)&128),e.SetFlag(d.N,128&r),e.a=255&r,1}get isComplete(){return this.stop}set isComplete(e){this.stop=e}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),ls=(()=>{class c{constructor(e,i,r,l,u){this.cpu=e,this.memory=i,this.lcd=r,this.via=l,this.keyboard=u,this.freq=3,this.cpu.connectDevice(this.memory),this.cpu.connectDevice(this.via),this.via.connectDevice(this.lcd),this.via.connectDevice(this.keyboard),this.clock$=function ns(c=0,n=Ne.P){return(!function as(c){return!(0,os.k)(c)&&c-parseFloat(c)+1>=0}(c)||c<0)&&(c=0),(!n||"function"!=typeof n.schedule)&&(n=Ne.P),new is.y(e=>(e.add(n.schedule(rs,c,{subscriber:e,counter:0,period:c})),e))}(this.freq)}get vendor(){return this.cpu.freq=(1e3/this.freq).toFixed(0),this.cpu.deviceInfo()}get status(){return this.cpu.cpu_status()}get clock(){return this.clock$}get sync(){return this.freq}run(){this.stop(),this.cpu.reset(),this.via.reset(),this.sub$=this.clock$.subscribe(e=>{this.cpu.clock(),this.memory.refresh(),this.cpu.isComplete&&this.stop()})}stop(){this.sub$&&this.sub$.unsubscribe()}tick(){this.cpu.isComplete||(this.cpu.clock(),this.memory.refresh())}restart(){this.cpu.reset(),this.via.reset()}irq(){this.cpu.irq()}nmi(){this.cpu.nmi()}}return c.\u0275fac=function(e){return new(e||c)(t.LFG(Ce),t.LFG(te),t.LFG(be),t.LFG(oe),t.LFG($e))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),ds=(()=>{class c{constructor(e){this.device=e}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(ls))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-cpu"]],decls:101,vars:47,consts:[["slot","start"],["fill","solid","slot","end",3,"click"],[1,"container"],["size","12"],[3,"multiple"],["value","registers"],["slot","header","color","light"],["slot","content",1,"ion-padding"],["size","2.2"],["size","3"],["size","2.35"],["value","status"],["size","1"],["value","info"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-buttons")(1,"ion-title",0)(2,"h1"),t._uU(3,"6502"),t.qZA()(),t.TgZ(4,"ion-button",1),t.NdJ("click",function(){return i.device.restart()}),t._uU(5,"REST"),t.qZA(),t.TgZ(6,"ion-button",1),t.NdJ("click",function(){return i.device.run()}),t._uU(7,"RUN"),t.qZA(),t.TgZ(8,"ion-button",1),t.NdJ("click",function(){return i.device.tick()}),t._uU(9,"TICK"),t.qZA(),t.TgZ(10,"ion-button",1),t.NdJ("click",function(){return i.device.stop()}),t._uU(11,"STOP"),t.qZA()(),t.TgZ(12,"div",2)(13,"ion-grid")(14,"ion-row")(15,"ion-col",3)(16,"ion-accordion-group",4)(17,"ion-accordion",5)(18,"ion-item",6)(19,"ion-label"),t._uU(20,"REGISTERS"),t.qZA()(),t.TgZ(21,"div",7)(22,"ion-row")(23,"ion-col",8),t._uU(24),t.ALo(25,"zeropad"),t.qZA(),t.TgZ(26,"ion-col",8),t._uU(27),t.ALo(28,"zeropad"),t.qZA(),t.TgZ(29,"ion-col",8),t._uU(30),t.ALo(31,"zeropad"),t.qZA(),t.TgZ(32,"ion-col",9),t._uU(33),t.ALo(34,"zeropad"),t.qZA(),t.TgZ(35,"ion-col",10),t._uU(36),t.ALo(37,"zeropad"),t.qZA()(),t.TgZ(38,"ion-row")(39,"ion-col",3),t._uU(40),t.ALo(41,"zeropad"),t.qZA(),t.TgZ(42,"ion-col",3),t._uU(43),t.ALo(44,"zeropad"),t.ALo(45,"zeropad"),t.qZA(),t.TgZ(46,"ion-col",3),t._uU(47),t.qZA()()()(),t.TgZ(48,"ion-accordion",11)(49,"ion-item",6)(50,"ion-label"),t._uU(51,"FLAGS"),t.qZA()(),t.TgZ(52,"div",7)(53,"ion-row")(54,"ion-col",12),t._uU(55,"N"),t.qZA(),t.TgZ(56,"ion-col",12),t._uU(57,"V"),t.qZA(),t.TgZ(58,"ion-col",12),t._uU(59,"U"),t.qZA(),t.TgZ(60,"ion-col",12),t._uU(61,"B"),t.qZA(),t.TgZ(62,"ion-col",12),t._uU(63,"D"),t.qZA(),t.TgZ(64,"ion-col",12),t._uU(65,"I"),t.qZA(),t.TgZ(66,"ion-col",12),t._uU(67,"Z"),t.qZA(),t.TgZ(68,"ion-col",12),t._uU(69,"C"),t.qZA()(),t.TgZ(70,"ion-row")(71,"ion-col",12),t._uU(72),t.qZA(),t.TgZ(73,"ion-col",12),t._uU(74),t.qZA(),t.TgZ(75,"ion-col",12),t._uU(76),t.qZA(),t.TgZ(77,"ion-col",12),t._uU(78),t.qZA(),t.TgZ(79,"ion-col",12),t._uU(80),t.qZA(),t.TgZ(81,"ion-col",12),t._uU(82),t.qZA(),t.TgZ(83,"ion-col",12),t._uU(84),t.qZA(),t.TgZ(85,"ion-col",12),t._uU(86),t.qZA()()()(),t.TgZ(87,"ion-accordion",13)(88,"ion-item",6)(89,"ion-label"),t._uU(90,"INFO"),t.qZA()(),t.TgZ(91,"div",7)(92,"ion-label")(93,"p"),t._uU(94),t.qZA(),t.TgZ(95,"p"),t._uU(96),t.qZA(),t.TgZ(97,"p"),t._uU(98),t.qZA(),t.TgZ(99,"p"),t._uU(100),t.qZA()()()()()()()()()),2&e&&(t.xp6(16),t.Q6J("multiple",!0),t.xp6(8),t.hij("A: ",t.xi3(25,23,i.device.status.A,2),""),t.xp6(3),t.hij("X: ",t.xi3(28,26,i.device.status.X,2),""),t.xp6(3),t.hij("Y: ",t.xi3(31,29,i.device.status.Y,2),""),t.xp6(3),t.hij("PC: ",t.xi3(34,32,i.device.status.PC,4),""),t.xp6(3),t.hij("SP: ",t.xi3(37,35,i.device.status.STACK,3),""),t.xp6(4),t.AsE(" OP: ",t.xi3(41,38,i.device.status.CODE,2)," [ ",i.device.status.NAME," ] "),t.xp6(3),t.AsE(" DATA: ",t.xi3(44,41,i.device.status.DATA,2)," ADDR: ",t.xi3(45,44,i.device.status.PC,4)," "),t.xp6(4),t.hij(" Cycles: ",i.device.status.CYCLES," "),t.xp6(25),t.Oqu(i.device.status.STATUS.N),t.xp6(2),t.Oqu(i.device.status.STATUS.V),t.xp6(2),t.Oqu(i.device.status.STATUS.U),t.xp6(2),t.Oqu(i.device.status.STATUS.B),t.xp6(2),t.Oqu(i.device.status.STATUS.D),t.xp6(2),t.Oqu(i.device.status.STATUS.I),t.xp6(2),t.Oqu(i.device.status.STATUS.Z),t.xp6(2),t.Oqu(i.device.status.STATUS.C),t.xp6(8),t.hij("Device: ",i.device.vendor.device,""),t.xp6(2),t.hij("Freq: ",i.device.vendor.clock,""),t.xp6(2),t.hij("Fabricant: ",i.device.vendor.fabricant,""),t.xp6(2),t.hij("Year: ",i.device.vendor.year,""))},dependencies:[y.We,y.eh,y.YG,y.Sm,y.wI,y.jY,y.Ie,y.Q$,y.Nd,y.wd,Le]}),c})(),hs=(()=>{class c{constructor(){this.value=[0,0],this.label="LEDS",this.color="danger"}get BIT0(){return!!(this.value[0]&f.DB0&this.value[1]&f.DB0)}get BIT1(){return!!(this.value[0]&f.DB1&this.value[1]&f.DB1)}get BIT2(){return!!(this.value[0]&f.DB2&this.value[1]&f.DB2)}get BIT3(){return!!(this.value[0]&f.DB3&this.value[1]&f.DB3)}get BIT4(){return!!(this.value[0]&f.DB4&this.value[1]&f.DB4)}get BIT5(){return!!(this.value[0]&f.DB5&this.value[1]&f.DB5)}get BIT6(){return!!(this.value[0]&f.DB6&this.value[1]&f.DB6)}get BIT7(){return!!(this.value[0]&f.DB7&this.value[1]&f.DB7)}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-leds"]],inputs:{value:["set","value"],label:"label",color:"color"},decls:13,vars:17,consts:[["slot","start"],["size","large","slot","end",2,"margin-left","5px",3,"color","name"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-buttons")(1,"ion-note",0)(2,"p"),t._uU(3),t.qZA()()(),t.TgZ(4,"ion-buttons"),t._UZ(5,"ion-icon",1)(6,"ion-icon",1)(7,"ion-icon",1)(8,"ion-icon",1)(9,"ion-icon",1)(10,"ion-icon",1)(11,"ion-icon",1)(12,"ion-icon",1),t.qZA()),2&e&&(t.xp6(3),t.Oqu(i.label),t.xp6(2),t.MGl("name","radio-button-",i.BIT7?"on":"off","-sharp"),t.Q6J("color",i.color),t.xp6(1),t.MGl("name","radio-button-",i.BIT6?"on":"off","-sharp"),t.Q6J("color",i.color),t.xp6(1),t.MGl("name","radio-button-",i.BIT5?"on":"off","-sharp"),t.Q6J("color",i.color),t.xp6(1),t.MGl("name","radio-button-",i.BIT4?"on":"off","-sharp"),t.Q6J("color",i.color),t.xp6(1),t.MGl("name","radio-button-",i.BIT3?"on":"off","-sharp"),t.Q6J("color",i.color),t.xp6(1),t.MGl("name","radio-button-",i.BIT2?"on":"off","-sharp"),t.Q6J("color",i.color),t.xp6(1),t.MGl("name","radio-button-",i.BIT1?"on":"off","-sharp"),t.Q6J("color",i.color),t.xp6(1),t.MGl("name","radio-button-",i.BIT0?"on":"off","-sharp"),t.Q6J("color",i.color))},dependencies:[y.Sm,y.gu,y.uN]}),c})(),ps=(()=>{class c{constructor(e){this.device=e}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(oe))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-via"]],decls:35,vars:12,consts:[["label","PORT A","color","success",3,"set"],["label","PORT B","color","warning",3,"set"],[2,"margin-top","2em",3,"multiple"],["value","settings"],["slot","header","color","light"],["slot","content",1,"ion-padding"],["slot","start",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(t.TgZ(0,"h2"),t._uU(1,"6522"),t.qZA(),t._UZ(2,"app-leds",0),t.ALo(3,"async"),t._UZ(4,"app-leds",1),t.ALo(5,"async"),t.TgZ(6,"ion-accordion-group",2)(7,"ion-accordion",3)(8,"ion-item",4)(9,"ion-label"),t._uU(10,"Settings"),t.qZA()(),t.TgZ(11,"div",5)(12,"ion-note")(13,"h5"),t._uU(14,"Devices"),t.qZA()(),t.TgZ(15,"ion-item")(16,"ion-checkbox",6),t.NdJ("ngModelChange",function(l){return i.device.connectRandomDevice=l}),t.qZA(),t.TgZ(17,"ion-label"),t._uU(18,"Attach Random Number Generator"),t.qZA()(),t.TgZ(19,"ion-item")(20,"ion-checkbox",6),t.NdJ("ngModelChange",function(l){return i.device.connectKeyboard=l}),t.qZA(),t.TgZ(21,"ion-label"),t._uU(22,"Attach Keyboard (uses IRQ And PB)"),t.qZA()(),t.TgZ(23,"ion-item")(24,"ion-checkbox",6),t.NdJ("ngModelChange",function(l){return i.device.connectLcd=l}),t.qZA(),t.TgZ(25,"ion-label"),t._uU(26,"Attach LCD (uses PB, PA7 PA6 & PA5)"),t.qZA()(),t.TgZ(27,"ion-item")(28,"ion-checkbox",6),t.NdJ("ngModelChange",function(l){return i.device.connectToIRQ=l}),t.qZA(),t.TgZ(29,"ion-label"),t._uU(30,"Attach 6522 IRQ to 6502 IRQ PIN"),t.qZA()(),t.TgZ(31,"ion-item")(32,"ion-checkbox",6),t.NdJ("ngModelChange",function(l){return i.device.connectToNMI=l}),t.qZA(),t.TgZ(33,"ion-label"),t._uU(34,"Attach 6522 IRQ to 6502 NMI PIN"),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("set",t.lcZ(3,8,i.device.PORTA$)),t.xp6(2),t.Q6J("set",t.lcZ(5,10,i.device.PORTB$)),t.xp6(2),t.Q6J("multiple",!0),t.xp6(10),t.Q6J("ngModel",i.device.connectRandomDevice),t.xp6(4),t.Q6J("ngModel",i.device.connectKeyboard),t.xp6(4),t.Q6J("ngModel",i.device.connectLcd),t.xp6(4),t.Q6J("ngModel",i.device.connectToIRQ),t.xp6(4),t.Q6J("ngModel",i.device.connectToNMI))},dependencies:[Y.JJ,Y.On,y.We,y.eh,y.nz,y.Ie,y.Q$,y.uN,y.w,hs,q.Ov]}),c})();const us=["screen"];let fs=(()=>{class c extends z{constructor(e){super(ye.name),this.lcdCtrl=e,this.color="cornflowerblue",this.width=400,this.height=200,this.bgImg=new Image,this.CHARS_PER_LINE=0,this.bgImg.src="assets/imgs/lcd.png",this.CHARS_PER_LINE=e.CHARS_PER_LINE}read(e){return 0}write(e,i){}reset(){}ngAfterViewInit(){this.bgImg.onload=()=>{this.display()}}display(){this.canvas=this.element.nativeElement,this.canvas.width=this.width,this.canvas.height=this.height;const e=this.canvas.getContext("2d");e.imageSmoothingEnabled=!1,e.textAlign="left",e.drawImage(this.bgImg,-30,0,this.width,this.height),this.lcdCtrl.connectDevice(this),this.turnOnOff(!1)}fillText(e,i){var r;const l=this.canvas.getContext("2d");l.fillStyle=this.color,this.rect(),l.textAlign="center",l.font="bold",l.font="35px oswald";for(let u=0;u<this.CHARS_PER_LINE;u++){let C=null!==(r=e[u])&&void 0!==r?r:" ";l.fillStyle="rgb(11, 94, 134)",l.fillRect(47+15.5*u,75,14,27),l.fillStyle="white",l.fillText(C,55+15.3*u,97)}}turnOnOff(e){!1===e?(this.canvas.getContext("2d").fillStyle="rgb(3, 33, 3)",this.rect()):(this.canvas.getContext("2d").fillStyle=this.color,this.rect())}setCursorPos(e){this.canvas.getContext("2d").fillStyle="white",this.canvas.getContext("2d").fillText("_",e+400,140)}rect(){this.canvas.getContext("2d").fillRect(22,52,298,98)}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(be))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-lcd"]],viewQuery:function(e,i){if(1&e&&t.Gf(us,7),2&e){let r;t.iGM(r=t.CRH())&&(i.element=r.first)}},features:[t.qOj],decls:6,vars:1,consts:[[2,"margin-left","1em"],[2,"padding","0px"],["id","screen"],["screen",""]],template:function(e,i){1&e&&(t.TgZ(0,"ion-card")(1,"ion-card-subtitle",0),t._uU(2),t.qZA(),t.TgZ(3,"ion-card-content",1),t._UZ(4,"canvas",2,3),t.qZA()()),2&e&&(t.xp6(2),t.hij(" LCD hd44780 ",i.CHARS_PER_LINE,"x1 "))},dependencies:[y.PM,y.FN,y.tO],styles:['ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0;margin-left:1em;margin-top:.3em}ion-card[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{margin-left:1em;margin-top:.5em;padding:0}.lcd-on[_ngcontent-%COMP%]{background-color:var(--ion-color-warning)}.lcd-off[_ngcontent-%COMP%]{background-color:#032103}#display[_ngcontent-%COMP%]{color:#000;border:none;resize:none;width:100%;font-size:x-large;font-family:revert;font-weight:700;padding:1em}.dottedText[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;background:radial-gradient(circle,transparent 50%,transparent 50%),radial-gradient(circle,transparent 20%,white 50%) 30px 30px;background-size:4px 4px}']}),c})(),gs=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-license"]],decls:9,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2," Copyright \xa9 2022 Berlys Santos Cruz "),t.qZA(),t.TgZ(3,"p"),t._uU(4,'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'),t.qZA(),t.TgZ(5,"p"),t._uU(6,"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."),t.qZA(),t.TgZ(7,"p"),t._uU(8,'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'),t.qZA()())},styles:[".container[_ngcontent-%COMP%]{padding:1em}"]}),c})();function ms(c,n){if(1&c){const e=t.EpF();t.TgZ(0,"ion-content")(1,"ion-list")(2,"ion-item",34),t._uU(3,"Instruction Set"),t.qZA(),t.TgZ(4,"ion-item",35),t._uU(5,"6502 in detail"),t.qZA(),t.TgZ(6,"ion-item",36),t._uU(7,"6502 from scratch"),t.qZA(),t.TgZ(8,"ion-item",37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.isLicense=!r.isLicense)}),t._uU(9,"License"),t.qZA(),t.TgZ(10,"ion-item",37),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.about())}),t._uU(11,"About?"),t.qZA()()()}2&c&&(t.xp6(2),t.Q6J("button",!0)("detail",!0),t.xp6(2),t.Q6J("button",!0)("detail",!0),t.xp6(2),t.Q6J("button",!0)("detail",!0),t.xp6(2),t.Q6J("button",!0)("detail",!0),t.xp6(2),t.Q6J("button",!0)("detail",!1))}const xs=function(){return{borderBottom:".5px solid gray"}},ys=function(){return{height:"40vh",overflowY:"scroll"}},bs=function(){return{height:"45vh",overfloat:"scroll",padding:"2em"}};function Cs(c,n){if(1&c){const e=t.EpF();t.TgZ(0,"ion-content")(1,"ion-grid")(2,"ion-row")(3,"ion-col",38)(4,"ion-toolbar",39)(5,"ion-thumbnail",2),t._UZ(6,"img",40),t.qZA(),t.TgZ(7,"ion-title",13)(8,"h1"),t._uU(9),t.qZA()()(),t.TgZ(10,"div",41)(11,"ion-text",41)(12,"h3"),t._uU(13,"What"),t.qZA(),t.TgZ(14,"p"),t._uU(15,"Emulation of a simple 8-Bits computer based on the famous 6502 chip. Supports the original 56 legal instructions even interrupts like NMI and IRQ. Inspired in the "),t.TgZ(16,"a",42),t._uU(17,"Ben Eater 6502 YouTube"),t.qZA(),t._uU(18," Serie."),t.qZA(),t.TgZ(19,"p"),t._uU(20,"The 6502 code is a port to typescript from the "),t.TgZ(21,"a",43),t._uU(22,"javidx9 C++ 6502 Implementation"),t.qZA(),t._uU(23,"."),t.qZA(),t.TgZ(24,"p"),t._uU(25,"The assembler code is a port to typescript from the "),t.TgZ(26,"a",44),t._uU(27,"NesHacker 6502 JavaScript utility for 6502 programming,"),t.qZA(),t._uU(28," which has been extended with extra commands to support label address at compile time."),t.qZA(),t.TgZ(29,"h3"),t._uU(30,"Assembler Commands"),t.qZA(),t.TgZ(31,"h4"),t._uU(32,".org"),t.qZA(),t._uU(33," This command set the absolute program address at the point of invocation. It is useful for defining patch segements for ROM hacks. "),t.TgZ(34,"p")(35,"code"),t._uU(36," .org $8000 ; Set the absolute program offset to $8000 "),t.qZA()(),t.TgZ(37,"h4"),t._uU(38,".addr"),t.qZA(),t._uU(39," This command set the absolute program address of a label. Useful for defining label address. "),t.TgZ(40,"p")(41,"code"),t._uU(42," .addr my_label ; Place the address of my_label "),t.qZA()(),t.TgZ(43,"h4"),t._uU(44,".word"),t.qZA(),t._uU(45," This defines 2 bytes to be processed by the assembler. Useful for defining configuration bytes or some address. "),t.TgZ(46,"p")(47,"code"),t._uU(48," .word $FFFC ; Literal 2 bytes: $FF, $FC "),t.qZA()(),t.TgZ(49,"h4"),t._uU(50,".byte or .byt"),t.qZA(),t._uU(51," This defines a run of arbitrary bytes to be processed by the assembler. Useful for defining lookup tables or text segments. "),t.TgZ(52,"p")(53,"code"),t._uU(54,' .byte "Hello" ; Literal bytes: $48, $65, 6C, $6C, $6F '),t.qZA()(),t.TgZ(55,"p")(56,"code"),t._uU(57," .byte 16, 32, 64 ; Literal bytes: $10, $20, $40 "),t.qZA()(),t.TgZ(58,"h3"),t._uU(59,"Memory Layout"),t.qZA(),t.TgZ(60,"p"),t._uU(61,"There is 64KB of memory and this is broken into:"),t.qZA(),t.TgZ(62,"p"),t._uU(63,"0x0000 - 0x00FF - Free (Zero Page)."),t.qZA(),t.TgZ(64,"p"),t._uU(65,"0x0100 - 0x01FF - Stack."),t.qZA(),t.TgZ(66,"p"),t._uU(67,"0x0200 - 0x5FFF - Free."),t.qZA(),t.TgZ(68,"p"),t._uU(69,"0x6000 - 0x6FFF - VIA - Versatile Interface Adapter."),t.qZA(),t.TgZ(70,"p"),t._uU(71,"0x6000 - 0x6000 - VIA - PortB Register."),t.qZA(),t.TgZ(72,"p"),t._uU(73,"0x6001 - 0x6001 - VIA - PortA Register."),t.qZA(),t.TgZ(74,"p"),t._uU(75,"0x6002 - 0x6002 - VIA - PortB Direction Data Register."),t.qZA(),t.TgZ(76,"p"),t._uU(77,"0x6003 - 0x6003 - VIA - PortA Direction Data Register."),t.qZA(),t.TgZ(78,"p"),t._uU(79,"0x60FE - 0x60FE - VIA - Random Value Register."),t.qZA(),t.TgZ(80,"p"),t._uU(81,"0x7000 - 0x8000 - Free."),t.qZA(),t.TgZ(82,"p"),t._uU(83,"0x8000 - 0xFFF9 - Program - always make sure to assemble programs for this address."),t.qZA(),t.TgZ(84,"p"),t._uU(85,"0xFFFA - 0xFFFA - NMI - Non-Maskable Interrupt Vector Location."),t.qZA(),t.TgZ(86,"p"),t._uU(87,"0xFFFA - 0xFFFC - RESB - Reset Vector Location."),t.qZA(),t.TgZ(88,"p"),t._uU(89,"0xFFFA - 0xFFFE - IRQB - Interrupt Request Vector Location."),t.qZA()()()()()()(),t.TgZ(90,"ion-footer")(91,"ion-toolbar",1)(92,"ion-item",45),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.dontShowModal())}),t._UZ(93,"ion-checkbox",46),t.TgZ(94,"ion-label"),t._uU(95,"Don't show again"),t.qZA()(),t.TgZ(96,"ion-buttons",4)(97,"ion-button",47),t.NdJ("click",function(){t.CHM(e),t.oxw();const r=t.MAs(71);return t.KtG(r.dismiss())}),t._uU(98,"Continue"),t.qZA()()()()}if(2&c){const e=t.oxw();t.xp6(4),t.Q6J("ngStyle",t.DdM(4,xs)),t.xp6(5),t.hij("6502 8-Bits Computer. ",e.version,""),t.xp6(1),t.Q6J("ngStyle",t.DdM(5,ys)),t.xp6(1),t.Q6J("ngStyle",t.DdM(6,bs))}}function _s(c,n){if(1&c){const e=t.EpF();t.TgZ(0,"ion-content")(1,"ion-grid")(2,"ion-row")(3,"ion-col",38),t._UZ(4,"app-license"),t.qZA()(),t.TgZ(5,"ion-row"),t._UZ(6,"ion-col",48),t.TgZ(7,"ion-col",49)(8,"ion-button",50),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.isLicense=!1)}),t._uU(9,"OK"),t.qZA()(),t._UZ(10,"ion-col",48),t.qZA()()()}}const Ms=function(){return{display:"none"}},As=function(){return["code"]},Fs=function(){return["lcd","cpu"]},Ss=[{path:"",component:(()=>{class c{constructor(e){this.alertController=e,this.isModalOpen="false"!==localStorage.getItem("modal"),this.isLicense=!1,this.pageTitle="8-Bits Computer",this.version=Mt.N.version}about(){return(0,fe.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({mode:"ios",animated:!0,header:"About?",subHeader:"Author: Berlys Santos Cruz\t\n",message:"\n        Version: Beta v0.1.0\n\n      ",buttons:[{text:"Okay",role:"cancel"}]})).present()})}dontShowModal(){localStorage.setItem("modal","false")}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(y.Br))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-home"]],decls:76,vars:17,consts:[[3,"translucent"],["color","primary"],["slot","start"],["src","assets/icon/6502.png","alt","icon"],["slot","end"],["fill","solid","shape","round","color","warning","href","https://www.paypal.com/donate/?hosted_button_id=7ZVJVGGBVERDW"],["id","open-modal","expand","block",3,"ngStyle"],["modalTrigger",""],["id","popover-button"],["name","ellipsis-vertical"],["mode","ios","trigger","popover-button",3,"dismissOnSelect"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"height","90vh"],["size","12","size-md","6","size-lg","7",2,"border-left",".4px solid grey"],[3,"multiple","value"],["value","code"],["slot","header","color","light"],["slot","content",2,"height","70vh"],["value","memory"],["slot","content"],["value","memory-map"],["slot","content",1,"sm-width"],["value","schematic"],["size","12","size-md","6","size-lg","5",2,"border-left",".4px solid grey"],["value","lcd"],["value","via"],["slot","content",1,"ion-padding"],["value","cpu"],["trigger","open-modal",3,"isOpen","backdropDismiss"],["modal",""],["trigger","open-license-modal",3,"isOpen","backdropDismiss"],["licence",""],["href","https://www.masswerk.at/6502/6502_instruction_set.html","target","_black",3,"button","detail"],["href","https://www.middle-engine.com/blog/posts/2020/06/23/programming-the-nes-the-6502-in-detail","target","_blank",3,"button","detail"],["href","https://www.youtube.com/watch?v=LnzuMJLZRdU&list=PLowKtXNTBypFbtuVMUVXNR0z1mu7dp7eH","target","_blank",3,"button","detail"],[3,"button","detail","click"],["size","12"],[1,"ion-padding",3,"ngStyle"],["src","assets/icon/6502.png","alt","logo"],[3,"ngStyle"],["href","https://www.youtube.com/watch?v=LnzuMJLZRdU&list=PLowKtXNTBypFbtuVMUVXNR0z1mu7dp7eH","target","_blank","rel","noopener noreferrer"],["href","https://www.youtube.com/watch?v=8XmxKPJDGU0","target","_blank","rel","noopener noreferrer"],["href","https://github.com/NesHacker/6502","target","_blank","rel","noopener noreferrer"],["color","primary","slot","start",3,"click"],["color","tertiary","slot","start"],[3,"click"],["size","5"],["size","2"],["fill","clear",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-thumbnail"),t._UZ(4,"img",3),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6),t.qZA(),t.TgZ(7,"ion-buttons",4)(8,"ion-button",5),t._uU(9,"donate"),t.qZA(),t._UZ(10,"button",6,7),t.TgZ(12,"ion-button",8),t._uU(13," Options "),t._UZ(14,"ion-icon",9),t.qZA(),t.TgZ(15,"ion-popover",10),t.YNc(16,ms,12,10,"ng-template"),t.qZA()()()(),t.TgZ(17,"ion-content",11)(18,"ion-header",12)(19,"ion-toolbar")(20,"ion-title",13),t._uU(21),t.qZA()()(),t.TgZ(22,"ion-grid")(23,"ion-row",14)(24,"ion-col",15)(25,"ion-accordion-group",16)(26,"ion-accordion",17)(27,"ion-item",18)(28,"ion-label"),t._uU(29,"ASSEMBLER"),t.qZA()(),t.TgZ(30,"div",19),t._UZ(31,"app-code"),t.qZA()(),t.TgZ(32,"ion-accordion",20)(33,"ion-item",18)(34,"ion-label"),t._uU(35,"MEMORY"),t.qZA()(),t.TgZ(36,"div",21),t._UZ(37,"app-mem-buffer"),t.qZA()(),t.TgZ(38,"ion-accordion",22)(39,"ion-item",18)(40,"ion-label"),t._uU(41,"MEMORY LAYOUT"),t.qZA()(),t.TgZ(42,"div",23),t._UZ(43,"app-mem-map"),t.qZA()(),t.TgZ(44,"ion-accordion",24)(45,"ion-item",18)(46,"ion-label"),t._uU(47,"SCHEMATIC"),t.qZA()(),t.TgZ(48,"div",23),t._UZ(49,"app-schematic"),t.qZA()()()(),t.TgZ(50,"ion-col",25)(51,"ion-accordion-group",16)(52,"ion-accordion",26)(53,"ion-item",18)(54,"ion-label"),t._uU(55,"HD44780"),t.qZA()(),t.TgZ(56,"div",21),t._UZ(57,"app-lcd"),t.qZA()(),t.TgZ(58,"ion-accordion",27)(59,"ion-item",18)(60,"ion-label"),t._uU(61,"Versatile Interface Adapter (VIA)"),t.qZA()(),t.TgZ(62,"div",28),t._UZ(63,"app-via"),t.qZA()(),t.TgZ(64,"ion-accordion",29)(65,"ion-item",18)(66,"ion-label"),t._uU(67,"CPU"),t.qZA()(),t.TgZ(68,"div",21),t._UZ(69,"app-cpu"),t.qZA()()()()()(),t.TgZ(70,"ion-modal",30,31),t.YNc(72,Cs,99,7,"ng-template"),t.qZA(),t.TgZ(73,"ion-modal",32,33),t.YNc(75,_s,11,0,"ng-template"),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(6),t.hij(" ",i.pageTitle," "),t.xp6(4),t.Q6J("ngStyle",t.DdM(14,Ms)),t.xp6(5),t.Q6J("dismissOnSelect",!0),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(4),t.Oqu(i.pageTitle),t.xp6(4),t.Q6J("multiple",!0)("value",t.DdM(15,As)),t.xp6(26),t.Q6J("multiple",!0)("value",t.DdM(16,Fs)),t.xp6(19),t.Q6J("isOpen",i.isModalOpen)("backdropDismiss",!1),t.xp6(3),t.Q6J("isOpen",i.isLicense)("backdropDismiss",!1))},dependencies:[q.PC,y.We,y.eh,y.YG,y.Sm,y.nz,y.wI,y.W2,y.fr,y.jY,y.Gu,y.gu,y.Ie,y.Q$,y.q_,y.Nd,y.yW,y.Bs,y.wd,y.sr,y.ki,y.d8,y.w,Qt,es,ts,cs,ds,ps,fs,gs],styles:["@media screen and (max-width: 700px){.sm-width[_ngcontent-%COMP%]{width:90vw;overflow:scroll}}code[_ngcontent-%COMP%]{background-color:#2f4f4f;color:azure;padding:1em;display:flex}h4[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),c})()}];let Is=(()=>{class c{}return c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[Pe.Bz.forChild(Ss),Pe.Bz]}),c})(),Zs=(()=>{class c{}return c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[q.ez]}),c})(),vs=(()=>{class c{}return c.\u0275fac=function(e){return new(e||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[q.ez,Y.u5,y.Pc,Zs,Is]}),c})()}}]);